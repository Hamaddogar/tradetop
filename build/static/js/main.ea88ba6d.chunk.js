(this.webpackJsonpdropdown=this.webpackJsonpdropdown||[]).push([[0],{209:function(e,t,a){e.exports=a(298)},214:function(e,t,a){},215:function(e,t,a){},216:function(e,t,a){},223:function(e,t,a){},224:function(e,t,a){},284:function(e,t,a){},290:function(e,t,a){},291:function(e,t,a){},292:function(e,t,a){},293:function(e,t,a){},294:function(e,t,a){},295:function(e,t,a){},298:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(8),c=a.n(r),s=(a(214),a(12)),o=a(13),i=a(14),d=a(15),u=(a(215),a(5)),m=a(16),p=(a(216),a(9)),E=a(44),h=a(136),f=a(164),g=a.n(f),y=a(165);function v(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?v(a,!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):v(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var O={loadedMenu:[],MainMenuItemNames:{home:"Home",accounts:"Accounts",sales:"Sales",Purchase:"Purchase",reporting:"Reporting",setting:"Setting",recovery:"Recovery",Expires:"Expires",Expenses:"Expenses",salary:"salary",profit:"Profit/Loss",return:"Return",stock:"Stock"},nestedItem:["item1","item3"],accounts:[{name:"Supliers",hint:"",icon:"images/supplier.png",link:"/accounts/suppliers"},{name:"Customers Ledges",hint:"",icon:"images/customerledgers.png",link:"/accounts/customersledgers"}],reporting:[{name:"Attendance",hint:"",icon:"images/attendance.png",link:"/attendance"},{name:"Sales",hint:"",icon:"images/sale.png",link:"/sales"},{name:"Purchases",hint:"",icon:"images/purchases.png",link:"/reporting/purchases"},{name:"Closing Stock Report",hint:"",icon:"images/closingstock.png",link:"/reporting/closingstock"},{name:"Stock Report",hint:"",icon:"images/stockreport.png",link:"/reporting/stockreport"},{name:"Customers",hint:"",icon:"images/customers.png",link:"/reporting/customers"},{name:"Suppliers",hint:"",icon:"images/supplier-reporting.png",link:"/reporting/suppliers"},{name:"Delivery Reports",hint:"",icon:"images/delivery-report.png",link:"/reporting/deliveryreports"},{name:"Bills",hint:"",icon:"images/bills.png",link:"/reporting/bills"},{name:"Bills & Route Wise Summary",hint:"",icon:"images/bills-summary.png",link:"/reporting/billsummary"},{name:"Recoveries",hint:"",icon:"images/recovery.png",link:"/reporting/recoveries"},{name:"Missing Orders",hint:"",icon:"images/missing.png",link:"/reporting/missing"},{name:"Receovery Bills",hint:"",icon:"images/recovert-bills.png",link:"/reporting/recoverybills"}],settings:[{name:"Store Settings",hint:"Includes Customization for your store",link:"settings/store",icon:"images/store-settings.png"},{name:"Password Settings",hint:"Includes Customization for your store",icon:"images/security-settings.png"},{name:"Users",hint:"Add, Delete and Update Users",icon:"images/user-settings.png",link:"/settings/users"},{name:"Customers",hint:"Manage Customers",icon:"images/customers.png",link:"/settings/customers"},{name:"Suppliers",hint:"Manage Suppliers",icon:"images/supplier.png",link:"/settings/suppliers"},{name:"Products",hint:"Manage Product Offerings",icon:"images/product-settings.png",link:"/settings/products"},{name:"Pricing",hint:"Manage Product Pricing",icon:"images/pricing-settings.png"},{name:"Categories",hint:"Includes Categories Management",icon:"images/categories-settings.png",link:"/settings/categories"},{name:"Areas",hint:"Includes area management",icon:"images/areas-settings.png",link:"/settings/areas"},{name:"Companies",hint:"Includes area management",icon:"images/company-settings.png",link:"/settings/companies"}]},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_MENU":return b({},e,{loadedMenu:e[t.payload]||[]});case"persist/REHYDRATE":return b({},e)}return e},N={loggedInUser:{}},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0,a=JSON.parse(JSON.stringify(e));switch(t.type){case"LOGIN":return a.loggedInUser=t.payload.user,a}return e},C=a(10),A={supplierAccounts:[{_id:3,totalPayable:4500,amountPaid:1500,date:new Date},{_id:4,totalPayable:8500,amountPaid:1500,date:new Date},{_id:5,totalPayable:2500,amountPaid:1500,date:new Date},{_id:7,totalPayable:9500,amountPaid:1500,date:new Date},{_id:8,totalPayable:7500,amountPaid:1500,date:new Date}],suppliers:[{id:1,code:"SUP00001",fullName:"",company:"NESTLE",phone:"0321-9876542",address:"lorem loremloremloremloremloremlorem lorem loremlorem lorem"},{id:2,code:"SUP00002",fullName:"",company:"KOLSON",phone:"",address:""},{id:3,code:"SUP00003",fullName:"",company:"SHANGRILA",phone:"",address:""},{id:4,code:"SUP00004",fullName:"",company:"YOUNG`S",phone:"",address:""},{id:5,code:"SUP00005",fullName:"",company:"POPULAR",phone:"",address:""},{id:6,code:"SUP00006",fullName:"",company:"QURSHI",phone:"",address:""},{id:7,code:"SUP00007",fullName:"",company:"GIGGLY",phone:"",address:""},{id:8,code:"SUP00008",fullName:"",company:"CANDY LAND",phone:"",address:""},{id:9,code:"SUP00009",fullName:"",company:"MEDICAM",phone:"",address:""},{id:10,code:"SUP000010",fullName:"",company:"NEELI BAAR",phone:"",address:""}]},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0,a=JSON.parse(JSON.stringify(e));switch(t.type){case"PAY_TO_SUPPLIER":return a.supplierAccounts.push(t.payload),C.b.success("PAYMENT ADDED!"),a;case"LOAD_SUPPLIERS":return a}return a},w=a(31),j={getRange:function(e,t){return e===t?[e]:[e].concat(Object(w.a)(this.getRange(e+1,t)))},time:{getDayName:function(e){var t=new Array(7);return t[0]="Sunday",t[1]="Monday",t[2]="Tuesday",t[3]="Wednesday",t[4]="Thursday",t[5]="Friday",t[6]="Saturday",t[e.getDay()]},getMonthDays:function(e){return{January:31,March:31,May:31,July:31,August:31,October:31,December:31,February:28,April:30,June:31,September:30,November:30}[e]},getMonthFromName:function(e){return["January","February","March","April","May","June","July","August","September","October","November","December"].indexOf(e)},getMonthName:function(){return["January","February","March","April","May","June","July","August","September","October","November","December"][(new Date).getMonth()]}},getID:function(e,t,a,n){var l=a[a.length-1];return l?(l[t],(n?"":e+"_")+(+l[t].toString().match(/(\d)+/g)[0].replace(/0/g,"")+1)):(n?"":e+"_")+"0"}},T={companies:[]},R={suppliers:[]},k={customers:[]},U={products:[]},_={salaryRecord:[],users:[]},I={categories:[]},M={areas:[]},x={sales:[]},L={purchases:[]},z={expenses:[]},B={store:{offdays:[]}},F={attendance:[]},J={key:"root",storage:g.a},Y=[y.a],H=Object(E.c)({attendanceReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0,a=JSON.parse(JSON.stringify(e));switch(t.type){case"ATTENDANCE_LOADED":a.attendance=t.payload;break;case"ATTENDANCE_CREATED":a.attendance.push(t.payload)}return a},storeReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0,a=JSON.parse(JSON.stringify(e));switch(t.type){case"NEW_STORE_CREATED":case"STORE_UPDATED":case"STORE_LOADED":a.store=t.payload||{offdays:[]};break;case"persist/REHYDRATE":t.payload&&(a.store=t.payload.storeReducer.store||{offdays:[]})}return a},expensesReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0,a=JSON.parse(JSON.stringify(e));switch(t.type){case"persist/REHYDRATE":t.payload&&(a.expenses=t.payload.expensesReducer.expenses||[]);break;case"EXPENSES_LOADED":a.expenses=t.payload;break;case"EXPENSE_CREATED":a.expenses.push(t.payload)}return a.expCode=j.getID("EXP","code",a.expenses),a},purchaseReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0,a=JSON.parse(JSON.stringify(e));switch(t.type){case"persist/REHYDRATE":t.payload&&(a.purchases=t.payload.purchaseReducer.purchases||[]);break;case"PURCHASES_LOADED":a.purchases=t.payload;break;case"PURCHASE_CREATED":a.purchases.push(t.payload)}return a.purchaseCode=j.getID("PUR","billNo",a.purchases,!0),a},salesReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0,a=JSON.parse(JSON.stringify(e));switch(t.type){case"persist/REHYDRATE":t.payload&&(a.sales=t.payload.salesReducer.sales);break;case"SALES_LOADED":a.sales=t.payload;break;case"SALE_CREATED":a.sales.push(t.payload);break;case"SALE_STATUS_UPDATED":a.sales.forEach((function(e){if(e._id==t.payload._id)return e.status=t.payload.status,!1}))}return a.saleCode=j.getID("EXP","billNo",a.sales,!0),a},areaReducers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0,a=JSON.parse(JSON.stringify(e));switch(t.type){case"persist/REHYDRATE":t.payload&&(a.areas=t.payload.areaReducers.areas);break;case"AREA_UPDATED":var n=a[t.model].find((function(e){return e._id==t.payload._id}));a[t.model][a[t.model].indexOf(n)]=t.payload;break;case"AREAS_LOADED":a.areas=t.payload;break;case"AREA_CREATED":a.areas.push(t.payload)}return a.code=j.getID("AREA","code",a.areas),console.log(a),a},categoryReducers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0,a=JSON.parse(JSON.stringify(e));switch(t.type){case"persist/REHYDRATE":t.payload&&(a.categories=t.payload.categoryReducers.categories);break;case"CATEGORY_UPDATED":var n=a[t.model].find((function(e){return e._id==t.payload._id}));a[t.model][a[t.model].indexOf(n)]=t.payload;break;case"CATEGORIES_LOADED":a.categories=t.payload;break;case"CATEGORY_CREATED":a.categories.push(t.payload);break;case"CATEGORIES_STATUS_UPDATED":a.categories.forEach((function(e){if(e.__id==t.payload.__id)return e.status=t.payload.status,!1}))}return a.categCode=j.getID("CATEG","code",a.categories),a},customerReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0,a=JSON.parse(JSON.stringify(e));switch(t.type){case"persist/REHYDRATE":t.payload&&(a.customers=t.payload.customerReducer.customers);break;case"CUSTOMER_UPDATED":var n=a[t.model].find((function(e){return e._id==t.payload._id}));a[t.model][a[t.model].indexOf(n)]=t.payload;break;case"CUSTOMERS_LOADED":a.customers=t.payload;break;case"CUSTOMER_CREATED":a.customers.push(t.payload);break;case"CUSTOMER_STATUS_UPDATED":a.customers.forEach((function(e){if(e._id==t.payload._id)return e.status=t.payload.status,!1}))}return a.code=j.getID("CUST","code",a.customers),a},supplierReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0,a=JSON.parse(JSON.stringify(e));switch(t.type){case"persist/REHYDRATE":t.payload&&(a.suppliers=t.payload.supplierReducer.suppliers);break;case"SUPPLIERS_LOADED":a.suppliers=t.payload;break;case"SUPPLIER_UPDATED":var n=a[t.model].find((function(e){return e._id==t.payload._id}));a[t.model][a[t.model].indexOf(n)]=t.payload;break;case"SUPPLIER_CREATED":a.suppliers.push(t.payload);break;case"SUPPLIER_STATUS_UPDATED":a.suppliers.forEach((function(e){if(e._id==t.payload._id)return e.status=t.payload.status,!1}))}return a.supplierCode=j.getID("SUPPL","code",a.suppliers),a},dropdownReducers:P,loginReducers:S,dataReducers:D,productReducers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0,a=JSON.parse(JSON.stringify(e));switch(t.type){case"persist/REHYDRATE":t.payload&&(a.products=t.payload.productReducers.products);break;case"PRODUCTS_LOADED":a.products=t.payload;break;case"PRODUCT_UPDATED":var n=a[t.model].find((function(e){return e._id==t.payload._id}));a[t.model][a[t.model].indexOf(n)]=t.payload;break;case"PRODUCT_CREATED":a.products.push(t.payload);break;case"PRODUCT_STATUS_UPDATED":a.products.forEach((function(e){if(e._id==t.payload._id)return e.status=t.payload.status,!1}))}return a.productCode=j.getID("PRD","code",a.products),a},userReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0,a=JSON.parse(JSON.stringify(e));switch(t.type){case"SALARY_RECORD_LOADED":a.salaryRecord=t.payload;break;case"persist/REHYDRATE":t.payload&&(a.users=t.payload.userReducer.users);break;case"USERS_LOADED":a.users=t.payload;break;case"USER_UPDATED":var n=a[t.model].find((function(e){return e._id==t.payload._id}));a[t.model][a[t.model].indexOf(n)]=t.payload;break;case"USER_CREATED":a.users.push(t.payload);break;case"USERS_STATUS_UPDATED":a.users.forEach((function(e){if(e._id==t.payload._id)return e.status=t.payload.status,!1}))}return a.userCode=j.getID("USER","code",a.users),a},companyReducers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0,a=JSON.parse(JSON.stringify(e));switch(t.type){case"COMPANIES_LOADED":a.companies=t.payload;break;case"COMPANY_UPDATED":var n=a[t.model].find((function(e){return e._id==t.payload._id}));a[t.model][a[t.model].indexOf(n)]=t.payload;break;case"COMPANY_CREATED":a.companies.push(t.payload)}return a.code=j.getID("COMP","code",a.companies),a}}),G=Object(h.a)(J,H),Q=Object(E.e)(G,Object(E.d)(E.a.apply(void 0,Y)));window.store=Object(E.e)(G);Object(h.b)(Q);var V=a(36),q=Object(V.a)();function K(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var $=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(l)))).state={email:"",password:""},a.handleValue=function(e){a.setState(Object(u.a)({},e.target.name,e.target.value))},a.signupUser=function(e){e.preventDefault(),a.props.updatedSignup(a.state)},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return this.props.loggedInUser.id&&"/login"==this.props.history.location.path&&this.props.history.push("/dashboard"),l.a.createElement("div",{className:"formstyle"},l.a.createElement("div",{className:"loginForm"},"Login"),l.a.createElement("form",{onSubmit:this.signupUser},l.a.createElement("input",{type:"email",name:"email",onChange:this.handleValue,placeholder:"email"}),l.a.createElement("input",{type:"password",name:"password",onChange:this.handleValue,placeholder:"password"}),l.a.createElement("div",null,l.a.createElement("button",{className:"def-btn"},"Login"))))}}]),t}(l.a.Component),W=Object(p.b)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?K(a,!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):K(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e.loginReducers)}),(function(e){return{updatedSignup:function(t){e(function(e){return console.log(e),function(t){fetch("/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){localStorage.setItem("token",e.token),console.log(e),t(function(e){return{type:"LOGIN",payload:e}}(e)),e.user.id?(Q.dispatch({type:"COMPANIES_LOADED",payload:e.data.companies}),Q.dispatch({type:"CATEGORIES_LOADED",payload:e.data.categories}),Q.dispatch({type:"ATTENDANCE_LOADED",payload:e.data.attendance}),Q.dispatch({type:"PRODUCTS_LOADED",payload:e.data.products}),Q.dispatch({type:"AREAS_LOADED",payload:e.data.areas}),Q.dispatch({type:"SUPPLIERS_LOADED",payload:e.data.suppliers}),Q.dispatch({type:"CUSTOMERS_LOADED",payload:e.data.customers}),Q.dispatch({type:"PURCHASES_LOADED",payload:e.data.mypurchases}),Q.dispatch({type:"EXPENSES_LOADED",payload:e.data.expenses}),Q.dispatch({type:"SALES_LOADED",payload:e.data.sales}),Q.dispatch({type:"USERS_LOADED",payload:e.data.users}),Q.dispatch({type:"STORE_LOADED",payload:e.data.store}),q.push("/dashboard"),console.log("User was found")):console.log("User did npt found")}))}}(t))}}}))($),Z=(a(223),a(224),a(225),a(21)),X=a(69),ee=a(352),te=a(358),ae=a(360),ne=a(89),le=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).showMenu=function(e){a.props.history.push("/"),Q.dispatch({type:"SHOW_MENU",payload:e})},a.render=function(){var e=a.props.nestdropdown;console.log(e);var t=a.props.accountitem;console.log(t);var n=a.props.reportingItem,r=a.props.MainMenuItemName;console.log(r);var c=a.props.settingItems;console.log(c);ee.a.SubMenu,l.a.createElement(ee.a,null,t.map((function(e){return l.a.createElement(ee.a,{key:e},l.a.createElement(ee.a.Item,null,e))}))),l.a.createElement(ee.a,null,n.map((function(e){return l.a.createElement(ee.a,{key:e},l.a.createElement(ee.a.Item,null,e))}))),l.a.createElement(ee.a,null);return l.a.createElement("div",{className:"Navbar"},l.a.createElement(te.a,{type:"flex",justify:"center"},l.a.createElement(ae.a,{span:1}," ",l.a.createElement("a",{className:"ant-dropdown-link",style:{color:"white"},href:"#"},r.home)),l.a.createElement(ae.a,{span:1,onClick:a.showMenu.bind(null,"accounts")},l.a.createElement("a",{className:"ant-dropdown-link",style:{color:"white"},href:"#"},r.accounts,l.a.createElement(ne.a,{type:"down"}))),l.a.createElement(ae.a,{span:1,style:{color:"white"}}," ",l.a.createElement(Z.a,{className:"ant-dropdown-link",style:{color:"white"},to:"/sales"},r.sales)),l.a.createElement(ae.a,{span:2,style:{color:"white"}},l.a.createElement(Z.a,{className:"ant-dropdown-link",style:{color:"white"},to:"/purchases"},r.Purchase)),l.a.createElement(ae.a,{span:2,onClick:a.showMenu.bind(null,"reporting"),style:{color:"white"}},l.a.createElement("a",{className:"ant-dropdown-link",style:{color:"white"},href:"#"},r.reporting,l.a.createElement(ne.a,{type:"down"}))),l.a.createElement(ae.a,{span:2,onClick:a.showMenu.bind(null,"settings"),style:{color:"white"}},l.a.createElement("a",{className:"ant-dropdown-link",style:{color:"white"},href:"#"},"Settings",l.a.createElement(ne.a,{type:"down"}))),l.a.createElement(ae.a,{span:2},l.a.createElement(Z.a,{className:"ant-dropdown-link",style:{color:"white"},to:"/recovery"},r.recovery,">")),l.a.createElement(ae.a,{span:2},l.a.createElement(Z.a,{className:"ant-dropdown-link",style:{color:"white"},to:"/expenses"},r.Expenses)),l.a.createElement(ae.a,{span:1},l.a.createElement(Z.a,{className:"ant-dropdown-link",style:{color:"white"},to:"/salary"},r.salary)),l.a.createElement(ae.a,{span:2},l.a.createElement("a",{className:"ant-dropdown-link",style:{color:"white"},href:"#"},r.profit)),l.a.createElement(ae.a,{span:1},l.a.createElement(Z.a,{to:"/attendence"},r.return))))},a}return Object(d.a)(t,e),t}(n.Component),re=Object(X.f)(Object(p.b)((function(e){return{auth:e.loginReducers,nestdropdown:e.dropdownReducers.nestedItem,accountitem:e.dropdownReducers.accounts,reportingItem:e.dropdownReducers.reporting,settingItems:e.dropdownReducers.settingItem,MainMenuItemName:e.dropdownReducers.MainMenuItemNames}}))(le)),ce=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"dashboard-container"}))}}]),t}(l.a.Component),se=a(17),oe={customers:{activated:"CUSTOMER ACTIVATED!",deActivated:"CUSTOMER DEACTIVATED!",created:"CUSTOMER CREATED!",updated:"CUSTOMER UPDATED!",error:{cannotCreate:"CUSTOMER CANNOT BE CREATED A THIS TIME!"}},attendance:{created:"ATTENDANCE CREATED!",updated:"ATTENDANCE UPDATED!",error:{cannotCreate:"ATTENDANCE CANNOT BE CREATED/UPDATED AT THIS TIME!"}},store:{created:"STORE CREATED!",updated:"STORE UPDATED!",error:{cannotCreate:"STORE CANNOT BE CREATED/UPDATED AT THIS TIME!"}},sales:{saved:"SALE ORDER SAVED!",updated:"SALE ORDER UPDATED!",error:{cannotCreate:"PURCHASE ORDER CANNOT BE SAVED AT THIS TIME!"}},purchase:{saved:"PURCHASE ORDER SAVED!",updated:"PURCHASE ORDER UPDATED!",error:{cannotCreate:"PURCHASE ORDER CANNOT BE SAVED AT THIS TIME!"}},area:{activated:"AREA ACTIVATED!",deActivated:"AREA DEACTIVATED!",updated:"AREA UPDATED!",error:{cannotUpdate:"AREA CANNOT BE UPDATED!"}},categories:{activated:"CATEGORY ACTIVATED!",deActivated:"CATEGORY DEACTIVATED!",updated:"CATEGORY UPDATED!",error:{cannotCreate:"CATEGORY CANNOT BE CREATED A THIS TIME!"}},products:{activated:"PRODUCT ACTIVATED!",deActivated:"PRODUCT DEACTIVATED!",created:"PRODUCT CREATED!",updated:"PRODUCT UPDATED!",error:{cannotCreate:"PRODUCT CANNOT BE CREATED AT THIS TIME!"}},suppliers:{activated:"SUPPLIER ACTIVATED!",deActivated:"SUPPLIER DEACTIVATED!",created:"SUPPLIER CREATED!",updated:"SUPPLIER UPDATED!",error:{cannotCreate:"SUPPLIER CANNOT BE CREATED AT THIS TIME!"}},expenses:{created:"EXPENSE CREATED!",updated:"EXPENSE UPDATED!",error:{cannotCreate:"EXPENSE CANNOT BE CREATED AT THIS TIME!"}},users:{activated:"USER ACTIVATED!",deActivated:"USER DEACTIVATED!",updated:"USER UPDATED!",salaryCreated:"SALARY CREATED!",error:{cannotCreateSalary:"SALARY CANNOT BE CREATED AT THIS TIME!"}},company:{activated:"COMPANY ACTIVATED!",deActivated:"COMPANY DEACTIVATED!",updated:"COMPANY UPDATED!"},error:{unknown:""}},ie=function(e){return function(t){fetch("/api/suppliers/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(a){a._id?(t({type:e._id?"SUPPLIER_UPDATED":"SUPPLIER_CREATED",payload:a,model:"suppliers"}),C.b.success(oe.suppliers[e._id?"updated":"created"])):C.b.error(oe.suppliers.error.cannotCreate)}))}},de=(a(284),a(7)),ue=a.n(de);a(61),a(62);function me(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function pe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?me(a,!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):me(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ee=Object(p.b)((function(e){return{data:pe({},e.supplierReducer,{},e.companyReducers)}}),(function(e){return{createSupplier:function(t){return e(ie(t))}}}))((function(e){var t=Object(n.useState)(pe({code:j.getID("SUPPL","code",e.data.suppliers)},e.supplier)),a=Object(se.a)(t,2),r=a[0],c=a[1];function s(e){r[e.target.id]=e.target.value,c(pe({},r))}return l.a.createElement("div",{className:"add-supplier"},l.a.createElement("div",{class:"modal-overlay",style:{"z-index":1002,display:"block",opacity:.9}}),l.a.createElement("div",{id:"modal1",class:"modal full-max-height",style:{display:"block"}},l.a.createElement("div",{class:"modal-content"},l.a.createElement("div",{className:"sub-head"},"Add Supplier"),l.a.createElement("div",{className:"modal-body"},l.a.createElement(ue.a,{stack:{limit:1}}),l.a.createElement("input",{className:"readonly-code",placeholder:"Supplier Code",value:r._id?r.code:e.data.supplierCode,readOnly:!0,id:"code",type:"text",required:!0}),l.a.createElement("div",{className:"row"},l.a.createElement("div",{class:"input-field col s6"},l.a.createElement("select",{value:r.company._id,onChange:s,id:"company",className:"inline",required:!0},[{name:"Select Company"}].concat(e.data.companies).map((function(e){return l.a.createElement("option",{value:e._id},e.name)})))),l.a.createElement("div",{class:"input-field col s6"},l.a.createElement("input",{value:r.phone,onChange:s,placeholder:"Phone",id:"phone",type:"number",class:"validate",required:!0}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{class:"input-field col s6"},l.a.createElement("input",{value:r.firstName,onChange:s,placeholder:"First Name",id:"firstName",type:"text",class:"validate",required:!0})),l.a.createElement("div",{class:"input-field col s6"},l.a.createElement("input",{value:r.lastName,onChange:s,placeholder:"Last Name",id:"lastName",type:"text",class:"validate",required:!0}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{class:"input-field col s6"},l.a.createElement("input",{value:r.email,onChange:s,placeholder:"Email",id:"email",type:"email",class:"validate",required:!0})),l.a.createElement("div",{class:"input-field col s6"},l.a.createElement("select",{value:r.supplierGender,onChange:s,className:"inline",id:"supplierGender",required:!0},l.a.createElement("option",null,"Gender"),l.a.createElement("option",null,"Male"),l.a.createElement("option",null,"Female")))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{class:"input-field col s6"},l.a.createElement("input",{value:r.zip,onChange:s,placeholder:"Zip",id:"zip",type:"number",class:"validate",required:!0})),l.a.createElement("div",{class:"input-field col s6"},l.a.createElement("select",{value:r.supplierProvince,onChange:s,className:"inline",id:"supplierProvince",required:!0},l.a.createElement("option",null,"Province"),l.a.createElement("option",null,"Punjab"),l.a.createElement("option",null,"Sindh"),l.a.createElement("option",null,"Balochistan"),l.a.createElement("option",null,"KPK"),l.a.createElement("option",null,"Gilgit Baltistan")))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{class:"input-field col s6"},l.a.createElement("textarea",{value:r.address,onChange:s,placeholder:"Adress",id:"address",class:"materialize-textarea",required:!0})),l.a.createElement("div",{class:"input-field col s6"},l.a.createElement("input",{value:r.agency,onChange:s,placeholder:"Agency Name",id:"agency",type:"text",class:"validate",required:!0}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{class:"input-field col s6"},l.a.createElement("textarea",{value:r.comments,onChange:s,placeholder:"Comments",id:"comments",class:"materialize-textarea",required:!0}))))),l.a.createElement("div",{class:"modal-footer"},l.a.createElement("button",{className:"waves-effect waves-light btn-small save",onClick:function(){r.code=r._id?r.code:e.data.supplierCode,void 0===r.firstName||""===r.firstName?ue.a.error("Please Enter Supplier Name !",{position:"top-right",effect:"slide",timeout:3e3}):void 0===r.lastName||""===r.lastName?ue.a.error("Please Enter Supplier Last  Name!",{position:"top-right",effect:"slide",timeout:3e3}):void 0===r.email||""===r.email?ue.a.error("Please Enter Supplier  Email Carefully!",{position:"top-right",effect:"slide",timeout:3e3}):!1===/^[a-zA-Z0-9\-_]+(\.[a-zA-Z0-9\-_]+)*@[a-z0-9]+(\-[a-z0-9]+)*(\.[a-z0-9]+(\-[a-z0-9]+)*)*\.[a-z]{2,4}$/.test(r.email)?ue.a.error("Please Enter Supplier Carefully!",{position:"top-right",effect:"slide",timeout:3e3}):void 0===r.supplierGender||"Gender"===r.supplierGender?ue.a.error("Please Select Supplier  Gender!",{position:"top-right",effect:"slide",timeout:3e3}):void 0===r.zip||""===r.zip?ue.a.error("Please Enter Supplier  Zip Code!",{position:"top-right",effect:"slide",timeout:3e3}):void 0===r.supplierProvince||"Province"===r.supplierProvince?ue.a.error("Please select  Supplier Province!",{position:"top-right",effect:"slide",timeout:3e3}):void 0===r.address||""===r.address?ue.a.error("Please Enter Supplier Address!",{position:"top-right",effect:"slide",timeout:3e3}):void 0===r.agency||""===r.agency?ue.a.error("Please Enter  Supplier   Agency Name!",{position:"top-right",effect:"slide",timeout:3e3}):void 0===r.comments||""===r.comments?ue.a.error("Please Enter  Comments!",{position:"top-right",effect:"slide",timeout:3e3}):void 0===r.phone||""===r.phone?ue.a.error("Please Enter Supplier Phone Number!",{position:"top-right",effect:"slide",timeout:3e3}):0===Object.keys(r.company).length||"Select Company"===r.company?ue.a.error("Please  select  Supplier Company!",{position:"top-right",effect:"slide",timeout:3e3}):(ue.a.success("Succefully ! You Have Add Supplier!",{position:"top-right",effect:"slide",timeout:3e3}),console.log(r),e.createSupplier(r))}},l.a.createElement("i",{class:"material-icons"}),"Save"),l.a.createElement("button",{className:"waves-effect waves-light btn-small cancel",onClick:function(){e.showAddSupplier(!1)}},l.a.createElement("i",{class:"material-icons"}),"Cancel"))))})),he=a(30),fe=a.n(he),ge=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).state={openSupplierForm:!1,suppliers:a.props.data.suppliers},a.state={activePage:1,itemPerPage:10},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){}},{key:"handlePageChange",value:function(e){console.log("active page is ".concat(e)),this.setState({activePage:e})}},{key:"render",value:function(){var e=this,t=this.state.activePage*this.state.itemPerPage,a=t-this.state.itemPerPage,n=this.props.data.suppliers.slice(a,t);return l.a.createElement("section",{className:"app-section"},this.state.openSupplierForm?l.a.createElement(Ee,{supplier:this.state.targetSupplier,showAddSupplier:function(){e.setState({openSupplierForm:!1})}}):null,l.a.createElement("div",{className:"label-head"},l.a.createElement("img",{src:"/images/label-head.png"}),l.a.createElement("h4",null,"Suppliers")),l.a.createElement("div",{className:"row"},l.a.createElement("div",{class:"input-field col s3"},l.a.createElement("input",{id:"first_name",type:"text",class:"validate",onChange:this.onchange}),l.a.createElement("label",{className:"adjusted-label",for:"first_name"},"Search Suppliers"))),l.a.createElement("div",null,l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"SR."),l.a.createElement("th",null,"CODE"),l.a.createElement("th",null,"FULL NAME"),l.a.createElement("th",null,"COMPANY"),l.a.createElement("th",{className:"wd-200"},"PHONE"),l.a.createElement("th",{className:"wd-200"},"ADDRESS"),l.a.createElement("th",null,this.props.showAddBtn&&l.a.createElement("img",{onClick:function(){e.setState({openSupplierForm:!0,targetSupplier:{company:{}}})},className:"icon add-item",src:"/images/add-icon.png"})))),l.a.createElement("tbody",null,n.map((function(t,a){return l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("b",null,a+1)),l.a.createElement("td",null,t.code),l.a.createElement("td",null,t.firstName+" "+(t.lastName||"")),l.a.createElement("td",null,t.company.name),l.a.createElement("td",{className:"wd-200"},t.phone),l.a.createElement("td",{className:"wd-200"},t.address),l.a.createElement("td",null,l.a.createElement("img",{title:"Edit",onClick:function(){e.setState({targetSupplier:t,openSupplierForm:!0})},className:"icon pointer",src:"/images/table-icons/edit-icon.png"}),l.a.createElement(Z.a,{to:"/accountsdetails/"+t._id},l.a.createElement("img",{className:"icon",src:"/images/details-icon.png"}))))}))))),l.a.createElement("center",null,l.a.createElement(fe.a,{activePage:this.state.activePage,itemsCountPerPage:n.length,totalItemsCount:this.props.data.suppliers.length,pageRangeDisplayed:n.length,onChange:function(t){return e.handlePageChange(t)}})))}}]),t}(l.a.Component),ye=Object(p.b)((function(e){return{data:e.supplierReducer}}))(ge),ve=function(e){return function(t){fetch("/api/products/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(a){console.log("Peoduct Midd",a),a._id?(t({type:e._id?"PRODUCT_UPDATED":"PRODUCT_CREATED",payload:a,model:"products"}),C.b.success(oe.products[e._id?"updated":"created"])):C.b.error(oe.products.error.cannotCreate)}))}};function be(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Oe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?be(a,!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):be(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Pe=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(l)))).state=Oe({},a.props.product),a.updateState=function(e){a.state[e.target.id]=e.target.value,"shopkeeperPrice"==e.target.id&&a.state.cost&&(a.state.margin=a.state.cost-e.target.value),a.setState(a.state)},a.saveCustomer=function(){a.state.code=a.state._id?a.state.code:a.props.data.productCode,console.log(a.state.category),void 0===a.state.name||""===a.state.name?ue.a.error("Please Enter Product Name !",{position:"top-right",effect:"slide",timeout:4e3}):void 0===a.state.cost||""===a.state.cost?ue.a.error("Please Enter  Product Cost !",{position:"top-right",effect:"slide",timeout:4e3}):void 0===a.state.shopkeeperPrice||""===a.state.shopkeeperPrice?ue.a.error("Please Enter   Shopkeeper Price !",{position:"top-right",effect:"slide",timeout:4e3}):void 0===a.state.customerPrice||""===a.state.customerPrice?ue.a.error("Please Enter  Customer price !",{position:"top-right",effect:"slide",timeout:4e3}):void 0===a.state.quantityType||""===a.state.quantityType?ue.a.error("Please Enter Product  Quantity Type !",{position:"top-right",effect:"slide",timeout:4e3}):void 0===a.state.category||"Select Category"===a.state.category?ue.a.error("Please Enter  Product Category!",{position:"top-right",effect:"slide",timeout:4e3}):void 0===a.state.productQty||""===a.state.productQty?ue.a.error("Please Enter  Product Quantity !",{position:"top-right",effect:"slide",timeout:4e3}):void 0===a.state.cartonSize||""===a.state.cartonSize?ue.a.error("Please Enter   Carton Size !",{position:"top-right",effect:"slide",timeout:4e3}):void 0===a.state.description||""===a.state.description?ue.a.error("Please Enter   Description !",{position:"top-right",effect:"slide",timeout:4e3}):0===Object.keys(a.state.company).length||"Select Company"===a.state.company?ue.a.error("Please Enter   Select Company !",{position:"top-right",effect:"slide",timeout:4e3}):(ue.a.success("Please Enter  Customer price !",{position:"top-right",effect:"slide",timeout:4e3}),a.props.createCustomer(a.state))},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"add-customer"},l.a.createElement("div",{class:"modal-overlay",style:{"z-index":1002,display:"block",opacity:.5}}),l.a.createElement("div",{id:"modal1",class:"modal",style:{display:"block","max-height":"fit-content"}},l.a.createElement("div",{class:"modal-content"},l.a.createElement("div",{className:"sub-head"},"Add Product"),l.a.createElement(ue.a,{stack:{limit:1}}),l.a.createElement("div",{className:"modal-body"},l.a.createElement("input",{className:"readonly-code",placeholder:"Product Code",value:this.state._id?this.state.code:this.props.data.productCode,readOnly:!0,id:"code",type:"text"}),l.a.createElement("div",{className:"row"},l.a.createElement("div",{class:"input-field col s6"},l.a.createElement("select",{value:this.state.company._id,onChange:this.updateState,id:"company",className:"inline"},[{name:"Select Company"}].concat(this.props.data.companies).map((function(e){return l.a.createElement("option",{value:e._id},e.name)})))),l.a.createElement("div",{class:"input-field col s6"},l.a.createElement("input",{value:this.state.name,onChange:this.updateState,placeholder:"Name",id:"name",type:"text",class:"validate"}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{class:"input-field col s6"},l.a.createElement("input",{value:this.state.cost,onChange:this.updateState,placeholder:"Cost",id:"cost",type:"number",class:"validate"})),l.a.createElement("div",{class:"input-field col s6"},l.a.createElement("input",{value:this.state.shopkeeperPrice,onChange:this.updateState,placeholder:"Shopkeeper Price",id:"shopkeeperPrice",type:"number",class:"validate"}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{class:"input-field col s6"},l.a.createElement("input",{value:this.state.margin,placeholder:"Margin",id:"margin",type:"number",readOnly:!0})),l.a.createElement("div",{class:"input-field col s6"},l.a.createElement("input",{value:this.state.customerPrice,onChange:this.updateState,placeholder:"Customer Price",id:"customerPrice",type:"number",class:"validate"}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{class:"input-field col s6"},l.a.createElement("select",{value:this.state.quantityType,onChange:this.updateState,className:"inline",id:"quantityType"},l.a.createElement("option",{value:"none"},"Quantity Type"),l.a.createElement("option",{value:"unit"},"Unit"),l.a.createElement("option",{value:"carton"},"Carton"))),l.a.createElement("div",{class:"input-field col s6"},l.a.createElement("select",{state:this.state.category,onChange:this.updateState,id:"category",className:"inline"},[{name:"Select Category"}].concat(this.props.data.categories).map((function(e){return l.a.createElement("option",{value:e._id},e.name)}))))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{class:"input-field col s6"},l.a.createElement("input",{value:this.state.productQty,onChange:this.updateState,placeholder:"Quantity",id:"productQty",type:"number",class:"validate"})),l.a.createElement("div",{class:"input-field col s6"},l.a.createElement("input",{value:this.state.cartonSize,onChange:this.updateState,placeholder:"Carton Size",id:"cartonSize",type:"number",class:"validate"}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{class:"input-field col s6"},l.a.createElement("textarea",{value:this.state.description,onChange:this.updateState,placeholder:"Description",id:"description",class:"materialize-textarea"}))))),l.a.createElement("div",{class:"modal-footer"},l.a.createElement("button",{className:"waves-effect waves-light btn-small save",onClick:this.saveCustomer},l.a.createElement("i",{class:"material-icons"}),"Save"),l.a.createElement("button",{className:"waves-effect waves-light btn-small cancel",onClick:function(){e.props.showAddProduct(!1)}},l.a.createElement("i",{class:"material-icons"}),"Cancel"))))}}]),t}(l.a.Component),Ne=Object(p.b)((function(e){return{data:Oe({},e.categoryReducers,{},e.productReducers,{},e.companyReducers)}}),(function(e){return{createCustomer:function(t){e(ve(t))}}}))(Pe),Se=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).state={activePage:1,itemPerPage:10,targetProduct:{company:{},category:{}},openProductForm:!1},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"handlePageChange",value:function(e){console.log("active page is ".concat(e)),this.setState({activePage:e})}},{key:"render",value:function(){var e=this,t=this.state.activePage*this.state.itemPerPage,a=t-this.state.itemPerPage,n=this.props.data.products.slice(a,t);return l.a.createElement("section",{className:"app-section"},this.state.openProductForm?l.a.createElement(Ne,{product:this.state.targetProduct,showAddProduct:function(){e.setState({targetProduct:{company:{},category:{}},openProductForm:!1})}}):null,l.a.createElement("div",{className:"label-head"},l.a.createElement("img",{src:"/images/label-head.png"}),l.a.createElement("h4",null,"Products")),l.a.createElement("div",{className:"row"},l.a.createElement("div",{class:"input-field col s3"},l.a.createElement("input",{placeholder:"Placeholder",id:"productID",type:"text",class:"validate"}),l.a.createElement("label",{className:"adjusted-label",for:"productID"},"Search Products"))),l.a.createElement("div",null,l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{className:"wd-20"},"SR."),l.a.createElement("th",null,"CODE"),l.a.createElement("th",{className:"wd-200"},"NAME"),l.a.createElement("th",null,"SUPPLIER"),l.a.createElement("th",null,"COST"),l.a.createElement("th",null,"SHOPKEEPPER PRICE"),l.a.createElement("th",null,"MARGIN"),l.a.createElement("th",null,"CUSTOMER PRICE"),l.a.createElement("th",null,"QTY"),l.a.createElement("th",null,"TIME"),l.a.createElement("th",null,l.a.createElement("img",{onClick:function(){e.setState({targetProduct:{company:{},category:{}},openProductForm:!0})},className:"icon add-item",src:"/images/add-icon.png"})))),l.a.createElement("tbody",null,this.props.data.products.map((function(t,a){return l.a.createElement("tr",null,l.a.createElement("td",{className:"wd-20"},l.a.createElement("b",null,a+1)),l.a.createElement("td",null,t.code),l.a.createElement("td",{className:"wd-200"},t.name),l.a.createElement("td",null,t.company.name),l.a.createElement("td",null,t.cost),l.a.createElement("td",null,t.shopkeeperPrice),l.a.createElement("td",null,t.margin),l.a.createElement("td",null,t.customerPrice),l.a.createElement("td",null,t.productQty),l.a.createElement("td",null,t.time),l.a.createElement("td",null,l.a.createElement("img",{title:"Edit",onClick:function(){e.setState({targetProduct:t,openProductForm:!0})},className:"icon pointer",src:"/images/table-icons/edit-icon.png"}),l.a.createElement(Z.a,{to:"/accountsdetails/"+t.id},l.a.createElement("img",{className:"icon",src:"/images/details-icon.png"}))))}))))),l.a.createElement("center",null,l.a.createElement(fe.a,{activePage:this.state.activePage,itemsCountPerPage:n.length,totalItemsCount:this.props.data.products.length,pageRangeDisplayed:n.length,onChange:function(t){return e.handlePageChange(t)}})))}}]),t}(l.a.Component),Ce=Object(p.b)((function(e){return{data:e.productReducers}}))(Se),Ae={createCompany:function(e){return function(t){fetch("/api/companies/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(a){a._id?(t({type:e._id?"COMPANY_UPDATED":"COMPANY_CREATED",payload:a,model:"companies"}),C.b.success(oe.company[e._id?"updated":"created"])):C.b.error(oe.company.error.cannotCreate)}))}}};function De(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function we(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?De(a,!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):De(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var je=Object(p.b)((function(e){return{data:e.companyReducers}}),(function(e){return{createCompany:function(t){e(Ae.createCompany(t))}}}))((function(e){var t=Object(n.useState)(we({},e.company)),a=Object(se.a)(t,2),r=a[0],c=a[1];function s(e){r[e.target.id]=e.target.value,c(we({},r))}return console.log(r.code),l.a.createElement("div",{className:"add-customer"},l.a.createElement("div",{class:"modal-overlay",style:{"z-index":1002,display:"block",opacity:.9}}),l.a.createElement("div",{id:"modal1",class:"modal modal-small",style:{display:"block"}},l.a.createElement("div",{class:"modal-content"},l.a.createElement("div",{className:"sub-head"},"Add Company"),l.a.createElement(ue.a,{stack:{limit:1}}),l.a.createElement("input",{className:"readonly-code",placeholder:"Company Code",value:r._id?r.code:e.data.code,readOnly:!0,id:"code",type:"text"}),l.a.createElement("div",{className:"modal-body def-modal-body text-center"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{class:"input-field col s12"},l.a.createElement("input",{value:r.name,onChange:s,placeholder:"Company Name",id:"name",type:"text",class:"validate"}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{class:"input-field col s12"},l.a.createElement("input",{value:r.phone,onChange:s,placeholder:"Company Phone",id:"phone",type:"number",class:"validate"}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{class:"input-field col s12"},l.a.createElement("input",{value:r.address,onChange:s,placeholder:"Company Address",id:"address",type:"text",class:"validate"}))))),l.a.createElement("div",{class:"modal-footer"},l.a.createElement("button",{className:"waves-effect waves-light btn-small save",onClick:function(){r.code=r._id?r.code:e.data.code,void 0===r.name||""===r.name?ue.a.error("Please Enter  Company Name !",{position:"top-right",effect:"slide",timeout:3e3}):void 0===r.phone||""===r.phone?ue.a.error("Please Enter  Company Phone Number!",{position:"top-right",effect:"slide",timeout:3e3}):void 0===r.address||""===r.address?ue.a.error("Please Enter  Company Address",{position:"top-right",effect:"slide",timeout:3e3}):(e.createCompany(r),ue.a.success("Successfully ! Campany Created",{position:"top-right",effect:"slide",timeout:3e3}))}},l.a.createElement("i",{class:"material-icons"}),"Save"),l.a.createElement("button",{className:"waves-effect waves-light btn-small cancel",onClick:function(){e.showAddCompany(!1)}},l.a.createElement("i",{class:"material-icons"}),"Cancel"))))})),Te=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).toggleStatus=function(e){e.status=!e.status,a.props.toggleState(e)},a.state={targetCompany:{},openCompanyForm:!1,activePage:1,itemPerPage:10},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"handlePageChange",value:function(e){console.log("active page is ".concat(e)),this.setState({activePage:e})}},{key:"render",value:function(){var e=this,t=this.state.activePage*this.state.itemPerPage,a=t-this.state.itemPerPage,n=this.props.data.companies.slice(a,t);return l.a.createElement("section",{className:"app-section"},this.state.openCompanyForm?l.a.createElement(je,{company:this.state.targetCompany,showAddCompany:function(){e.setState({targetCompany:{},openCompanyForm:!1})}}):null,l.a.createElement("div",{className:"label-head"},l.a.createElement("img",{src:"/images/label-head.png"}),l.a.createElement("h4",null,"Companies")),l.a.createElement("div",{className:"row"},l.a.createElement("div",{class:"input-field col s3"},l.a.createElement("input",{placeholder:"Placeholder",id:"first_name",type:"text",class:"validate"}),l.a.createElement("label",{className:"adjusted-label",for:"first_name"},"Search Companies"))),l.a.createElement("div",null,l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"SR."),l.a.createElement("th",null,"CODE"),l.a.createElement("th",null,"NAME"),l.a.createElement("th",null,"PHONE"),l.a.createElement("th",{className:"wd-200"},"ADDRESS"),l.a.createElement("th",null,l.a.createElement("img",{onClick:function(){e.setState({openCompanyForm:!0})},className:"icon add-item",src:"/images/add-icon.png"})))),l.a.createElement("tbody",null,n.map((function(t,a){return l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("b",null,a+1)),l.a.createElement("td",null,t.code),l.a.createElement("td",null,t.name),l.a.createElement("td",null,t.phone),l.a.createElement("td",{className:"wd-200"},t.address),l.a.createElement("td",null,l.a.createElement("img",{title:"Edit",onClick:function(){e.setState({targetCompany:t,openCompanyForm:!0})},className:"icon pointer",src:"/images/table-icons/edit-icon.png"}),l.a.createElement("button",{onClick:e.toggleStatus.bind(null,t),className:t.status?"control-btn":"control-btn disabled-btn"},t.status?"Deactivate":"Activate")))}))))),l.a.createElement("center",null,l.a.createElement(fe.a,{activePage:this.state.activePage,itemsCountPerPage:n.length,totalItemsCount:this.props.data.companies.length,pageRangeDisplayed:n.length,onChange:function(t){return e.handlePageChange(t)}})))}}]),t}(l.a.Component),Re=Object(p.b)((function(e){return{data:e.companyReducers}}),(function(e){return{toggleState:function(t){e(Ae.createCompany(t))}}}))(Te),ke=function(e){return function(t){fetch("/api/categories/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(a){a._id?(t({type:e._id?"CATEGORY_UPDATED":"CATEGORY_CREATED",payload:a,model:"categories"}),C.b.success(oe.categories[e._id?"updated":"created"])):C.b.error(oe.categories.error.cannotCreate)}))}};function Ue(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function _e(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ue(a,!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ue(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ie=Object(p.b)((function(e){return{data:e.categoryReducers}}),(function(e){return{createCategory:function(t){e(ke(t))}}}))((function(e){var t=Object(n.useState)(_e({},e.category)),a=Object(se.a)(t,2),r=a[0],c=a[1];return console.log(r.code),l.a.createElement("div",{className:"add-category"},l.a.createElement("div",{class:"modal-overlay",style:{"z-index":1002,display:"block",opacity:.5}}),l.a.createElement("div",{id:"modal1",class:"modal modal-small",style:{display:"block"}},l.a.createElement("div",{class:"modal-content"},l.a.createElement("div",{className:"sub-head"},"Add Catgory"),l.a.createElement(ue.a,{stack:{limit:1}}),l.a.createElement("div",{className:"modal-body def-modal-body text-center"},l.a.createElement("input",{className:"readonly-code",placeholder:"Category Code",value:r._id?r.code:e.data.categCode,readOnly:!0,id:"code",type:"text"}),l.a.createElement("div",{className:"row"},l.a.createElement("div",{class:"input-field col s12"},l.a.createElement("input",{value:r.name,onChange:function(e){r[e.target.id]=e.target.value,c(_e({},r))},placeholder:"Name",id:"name",type:"text",class:"validate"}))))),l.a.createElement("div",{class:"modal-footer"},l.a.createElement("button",{className:"waves-effect waves-light btn-small save",onClick:function(){r.code=r._id?r.code:e.data.categCode,""===r.name?ue.a.error("Please Enter  Catgory!",{position:"top-right",effect:"slide",timeout:4e3}):(ue.a.success("Successfully!  Catgory created !",{position:"top-right",effect:"slide",timeout:4e3}),e.createCategory(r))}},l.a.createElement("i",{class:"material-icons"}),"Save"),l.a.createElement("button",{className:"waves-effect waves-light btn-small cancel",onClick:function(){e.showAddCategory(!1)}},l.a.createElement("i",{class:"material-icons"}),"Cancel"))))})),Me=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).toggleStatus=function(e){e.status=!e.status,a.props.toggleState(e)},a.render=function(){var e=a.state.activePage*a.state.itemPerPage,t=e-a.state.itemPerPage,n=a.props.data.categories.slice(t,e);return l.a.createElement("section",{className:"app-section"},a.state.openCategoryForm?l.a.createElement(Ie,{category:a.state.targetCategory,showAddCategory:function(){a.setState({openCategoryForm:!1,targetCategory:{name:""}})}}):null,l.a.createElement("div",{className:"label-head"},l.a.createElement("img",{src:"/images/label-head.png"}),l.a.createElement("h4",null,"Categories")),l.a.createElement("div",{className:"row"},l.a.createElement("div",{class:"input-field col s3"},l.a.createElement("input",{placeholder:"Placeholder",id:"first_name",type:"text",class:"validate"}),l.a.createElement("label",{className:"adjusted-label",for:"first_name"},"Search Companies"))),l.a.createElement("div",null,l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"SR."),l.a.createElement("th",null,"CODE"),l.a.createElement("th",null,"NAMEjkjkjk"),l.a.createElement("th",null,l.a.createElement("img",{onClick:function(){a.setState({openCategoryForm:!0})},className:"icon add-item",src:"/images/add-icon.png"})))),l.a.createElement("tbody",null,n.map((function(e,t){return l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("b",null,t+1)),l.a.createElement("td",null,e.code),l.a.createElement("td",null,e.name),l.a.createElement("td",null,l.a.createElement("img",{title:"Edit",onClick:function(){a.setState({targetCategory:e,openCategoryForm:!0})},className:"icon pointer",src:"/images/table-icons/edit-icon.png"}),l.a.createElement("button",{onClick:a.toggleStatus.bind(null,e),className:e.status?"control-btn":"control-btn disabled-btn"},"Deactivate")))}))))),l.a.createElement("center",null,l.a.createElement(fe.a,{activePage:a.state.activePage,itemsCountPerPage:n.length,totalItemsCount:a.props.data.categories.length,pageRangeDisplayed:n.length,onChange:function(e){return a.handlePageChange(e)}})))},a.state={activePage:1,itemPerPage:10,targetCategory:{name:""},openCategoryForm:!1},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"handlePageChange",value:function(e){console.log("active page is ".concat(e)),this.setState({activePage:e})}}]),t}(l.a.Component),xe=Object(p.b)((function(e){return{data:e.categoryReducers}}),(function(e){return{toggleState:function(t){e(Ae.toggleCompanyState(t))}}}))(Me),Le=function(e){return function(t){fetch("/api/areas/toggleState",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){e._id?(t({type:"AREA_UPDATED",payload:e}),C.b.success(oe.area.updated)):C.b.error(oe.area.error.cannotUpdate)}))}},ze=function(e){return function(t){fetch("/api/areas/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(a){a._id?(t({type:e._id?"AREA_UPDATED":"AREA_CREATED",payload:a,model:"areas"}),C.b.success(oe.area[e._id?"updated":"created"])):C.b.error(oe.area.error.cannotCreate)}))}};function Be(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Fe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Be(a,!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Be(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Je=Object(p.b)((function(e){return{data:e.areaReducers}}),(function(e){return{createArea:function(t){e(ze(t))}}}))((function(e){var t=Object(n.useState)(Fe({code:j.getID("AREA","code",e.data.areas)},e.area)),a=Object(se.a)(t,2),r=a[0],c=a[1];return console.log(r.code),l.a.createElement("div",{className:"add-area"},l.a.createElement("div",{class:"modal-overlay",style:{"z-index":1002,display:"block",opacity:.5}}),l.a.createElement("div",{id:"modal1",class:"modal modal-small",style:{display:"block"}},l.a.createElement("div",{class:"modal-content"},l.a.createElement("div",{className:"sub-head"},"Add Area"),l.a.createElement(ue.a,{stack:{limit:1}}),l.a.createElement("div",{className:"modal-body def-modal-body text-center"},l.a.createElement("input",{className:"readonly-code",placeholder:"Area Code",value:e.data.code,readOnly:!0,id:"code",type:"text"}),l.a.createElement("div",{className:"row"},l.a.createElement("div",{class:"input-field col s12"},l.a.createElement("input",{value:r.name,onChange:function(e){r[e.target.id]=e.target.value,c(Fe({},r))},placeholder:"Name",id:"name",type:"text",class:"validate"}))))),l.a.createElement("div",{class:"modal-footer"},l.a.createElement("button",{className:"waves-effect waves-light btn-small save",onClick:function(){r.code=e.data.code,void 0===r.name||""===r.name?ue.a.error("Please Enter  Area !",{position:"top-right",effect:"slide",timeout:4e3}):(ue.a.success("Successfully  ! Area Created !",{position:"top-right",effect:"slide",timeout:4e3}),e.createArea(r))}},l.a.createElement("i",{class:"material-icons"}),"Save"),l.a.createElement("button",{className:"waves-effect waves-light btn-small cancel",onClick:function(){e.showAddArea(!1)}},l.a.createElement("i",{class:"material-icons"}),"Cancel"))))})),Ye=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).state={targetArea:{},openAreaForm:!1},a.toggleStatus=function(e){e.status=!e.status,a.props.toggleState(e)},a.state={activePage:1,itemPerPage:10},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"handlePageChange",value:function(e){console.log("active page is ".concat(e)),this.setState({activePage:e})}},{key:"render",value:function(){var e=this,t=this.state.activePage*this.state.itemPerPage,a=t-this.state.itemPerPage,n=this.props.data.areas.slice(a,t);return l.a.createElement("section",{className:"app-section"},this.state.openAreaForm?l.a.createElement(Je,{area:this.state.targetArea,showAddArea:function(){e.setState({openAreaForm:!1})}}):null,l.a.createElement("div",{className:"label-head"},l.a.createElement("img",{src:"/images/label-head.png"}),l.a.createElement("h4",null,"Areas")),l.a.createElement("div",{className:"row"},l.a.createElement("div",{class:"input-field col s3"},l.a.createElement("input",{placeholder:"Placeholder",id:"first_name",type:"text",class:"validate"}),l.a.createElement("label",{className:"adjusted-label",for:"first_name"},"Search Areas"))),l.a.createElement("div",null,l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("div",null),l.a.createElement("tr",null,l.a.createElement("th",null,"SR."),l.a.createElement("th",null,"CODE"),l.a.createElement("th",{className:"wd-200"},"NAME"),l.a.createElement("th",{className:"wd-200"},"LAST UPDATED"),l.a.createElement("th",null,l.a.createElement("img",{onClick:function(){e.setState({targetArea:{},openAreaForm:!0})},className:"icon add-item",src:"/images/add-icon.png"})))),l.a.createElement("tbody",null,n.map((function(t,a){return l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("b",null,a+1)),l.a.createElement("td",null,t.code),l.a.createElement("td",{className:"wd-200"},t.name),l.a.createElement("td",{className:"wd-200"},new Date(t.lastUpdated).toDateString()),l.a.createElement("td",null,l.a.createElement("img",{title:"Edit",onClick:function(){e.setState({targetArea:t,openAreaForm:!0})},className:"icon pointer",src:"/images/table-icons/edit-icon.png"}),l.a.createElement("button",{onClick:e.toggleStatus.bind(null,t),className:t.status?"control-btn":"control-btn disabled-btn"},t.status?"Activate":"Deactivate")))})))),l.a.createElement("center",null,l.a.createElement(fe.a,{activePage:this.state.activePage,itemsCountPerPage:n.length,totalItemsCount:this.props.data.areas.length,pageRangeDisplayed:n.length,onChange:function(t){return e.handlePageChange(t)}}))))}}]),t}(l.a.Component),He=Object(p.b)((function(e){return{data:e.areaReducers}}),(function(e){return{toggleState:function(t){e(Le(t))}}}))(Ye),Ge=a(3),Qe=function(e){return function(t){fetch("/api/attendance/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(a){a._id?(t({type:e._id?"ATTENDANCE_UPDATED":"ATTENDANCE_CREATED",payload:a,model:"categories"}),C.b.success(oe.attendance[e._id?"updated":"created"])):C.b.error(oe.attendance.error.cannotCreate)}))}},Ve=(a(290),a(362)),qe=a(353);function Ke(e){return l.a.createElement(qe.a,{onChange:e.onChange,id:"combo-box-demo",options:e.data,getOptionLabel:function(t){return t[e.property]},style:{width:300},renderInput:function(t){return l.a.createElement(Ve.a,Object.assign({},t,{label:e.placeholder,variant:"outlined",fullWidth:!0}))}})}var $e=a(346),We=a(347),Ze=a(355),Xe=a(348),et=a(301),tt=a(351),at=a(345),nt=a(361),lt=a(344),rt=a(354);function ct(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function st(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ct(a,!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ct(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ot(e){var t=e.children,a=e.value,n=e.index,r=Object(Ge.a)(e,["children","value","index"]);return l.a.createElement(et.a,Object.assign({component:"div",role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},r),l.a.createElement(tt.a,{p:3},t))}function it(e){return{id:"simple-tab-"+e,"aria-controls":"simple-tabpanel-"+e}}Object($e.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper}}}));var dt=function(e){function t(e){var a;Object(s.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this))).state={searched:[],selectedUser:{},attendance:[],tabNo:0,month:(new Date).getMonth()-1},a.handleChange=function(e,t){a.setState({tabNo:t})},a.fetchUserAttendance=function(e){fetch("/api/attendance/get",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:e.selectedUser||a.state.selectedUser._id,month:e.month||a.state.month})}).then((function(e){return e.json()})).then((function(e){a.setState({searched:e})}))},a.componentDidMount=function(){},a.componentWillUpdate=function(e,t){console.log(20),a.state.attendance=e.data.attendance},a.markAttendance=function(e){var t=new Date;if(a.state.attendance.find((function(t){return t.user==e.target.value})))return C.b.warn("ATTENDANCE ALREADY MARKED");a.props.markAttendance({time:t.toLocaleTimeString(),user:e.target.value,date:t.getDate(),month:t.getMonth(),year:t.getFullYear()})},a.updateState=function(){},a.state.users=e.data.users;var n=new Date;return fetch("/api/attendance/get",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({date:n.getDate(),month:n.getMonth(),year:n.getFullYear()})}).then((function(e){return e.json()})).then((function(e){a.setState({attendance:e})})),a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=new Date,a=new Date(this.state.month,t.getFullYear(),0).getDate(),n=-1==this.props.data.store.offdays.indexOf(j.time.getDayName(t));return l.a.createElement("section",{className:"app-section"},l.a.createElement("div",{className:"label-head"},l.a.createElement("img",{src:"/images/label-head.png"}),l.a.createElement("h4",null,"Attendance")),l.a.createElement(We.a,{position:"static"},l.a.createElement(Ze.a,{value:this.state.tabNo,onChange:this.handleChange,"aria-label":"simple tabs example"},l.a.createElement(Xe.a,Object.assign({label:"TODAY's ATTENDANCE"},it(0))),l.a.createElement(Xe.a,Object.assign({label:"DETAILED REPORT"},it(1))))),l.a.createElement(ot,{value:this.state.tabNo,index:0},n?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{class:"input-field col s6"},l.a.createElement(Ke,{property:"fullName",onChange:function(t,a){a&&e.markAttendance({target:{id:"user",value:a._id}})},data:this.props.data.users,placeholder:"Select Users"}))),l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"SR."),l.a.createElement("th",null,"NAME"),l.a.createElement("th",null,"ENTRANCE TIME"),l.a.createElement("th",null,"STATUS"))),l.a.createElement("tbody",null,this.props.data.users.map((function(t,a){var n=e.state.attendance.find((function(e){return e.user==t._id}));return l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("b",null,a+1)),l.a.createElement("td",null,t.fullName),l.a.createElement("td",null,(n||{}).time),l.a.createElement("td",null,n?l.a.createElement("div",{className:"mAttendance_P"},"PRESENT"):l.a.createElement("div",{className:"mAttendance_A"},"ABSENT")))}))))):l.a.createElement("img",{src:"/images/holiday-icon.png",className:"def-absolute-center"})),l.a.createElement(ot,{value:this.state.tabNo,index:1},l.a.createElement("div",{className:"row"},l.a.createElement("div",{class:"input-field col s3"},l.a.createElement(Ke,{property:"fullName",onChange:function(t,a){e.setState({selectedUser:a}),e.state.month&&e.fetchUserAttendance({selectedUser:a})},data:this.props.data.users,placeholder:"Search User"})),l.a.createElement("div",{class:"input-field col s6"},l.a.createElement(lt.a,{className:"white-back",style:{minWidth:250}},l.a.createElement(at.a,{id:"demo-simple-select-label"},"Select Month"),l.a.createElement(rt.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:this.state.month,onChange:function(t,a){e.setState({month:t.target.value}),e.state.selectedUser&&e.fetchUserAttendance({month:t.target.value})}},l.a.createElement(nt.a,{value:0},"Janaury"),l.a.createElement(nt.a,{value:1},"February"),l.a.createElement(nt.a,{value:2},"March"),l.a.createElement(nt.a,{value:3},"April"),l.a.createElement(nt.a,{value:3},"March"),l.a.createElement(nt.a,{value:4},"May"),l.a.createElement(nt.a,{value:5},"June"),l.a.createElement(nt.a,{value:6},"July"),l.a.createElement(nt.a,{value:7},"August"),l.a.createElement(nt.a,{value:8},"September"),l.a.createElement(nt.a,{value:9},"October"),l.a.createElement(nt.a,{value:10},"November"),l.a.createElement(nt.a,{value:11},"December"))))),l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"DATE"),l.a.createElement("th",null,"ENTRANCE TIME"),l.a.createElement("th",null,"STATUS"))),l.a.createElement("tbody",null,j.getRange(1,a).map((function(t,a){var n=e.state.searched.find((function(a){return a.date==t&&a.user==e.state.selectedUser._id}));return l.a.createElement("tr",null,l.a.createElement("td",null,t),l.a.createElement("td",null,(n||{}).time),l.a.createElement("td",null,n?l.a.createElement("div",{className:"mAttendance_P"},"PRESENT"):l.a.createElement("div",{className:"mAttendance_A"},"ABSENT")))}))))))}}]),t}(l.a.Component),ut=Object(p.b)((function(e){return{data:st({},e.storeReducer,{},e.userReducer,{},e.attendanceReducer)}}),(function(e){return{markAttendance:function(t){e(Qe(t))}}}))(dt),mt=a(32),pt=function(e){return function(t){fetch("/api/store/update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(a){console.log("udateSupllier",a),t({type:e._id?"NEW_STORE_CREATED":"STORE_UPDATED",payload:a}),C.b.success(oe.store[e._id?"updated":"created"])}))}},Et=a(29),ht=a(350),ft=a(179);function gt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function yt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?gt(a,!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):gt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var vt=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(l)))).state=yt({offdays:[]},a.props.data.store),a.componentDidMount=function(){var e=Object(mt.a)(a);a.offdays=a.props.data.store.offdays,window.$(a.refs.offDays).chips({data:(a.props.data.store.offdays||[]).map((function(e){return{tag:e}})),onChipAdd:function(t){e.offdays=this.chipsData.map((function(e){return e.tag}))},onChipDelete:function(t){e.offdays=this.chipsData.map((function(e){return e.tag}))},autocompleteOptions:{chipsData:a.props.data.store.offdays,data:{Sunday:null,Monday:null,Tuesday:null,Wednesday:null,Thursday:null,Friday:null,Saturday:null},limit:1/0,minLength:1}})},a.updateState=function(e){e.target?a.state[e.target.id]=e.target.value:a.state[e.name]=e.data,a.setState(yt({},a.state))},a.componentDidUpdate=function(e,t){a.state._id=a.props.data.store._id},a.saveStore=function(){a.state.offdays=a.offdays,console.log(a.state.name);void 0===a.state.name||""===a.state.name?ue.a.error("Please Enter  Name !",{position:"top-right",effect:"slide",timeout:3e3}):void 0===a.state.phone||""===a.state.phone?ue.a.error("Please Enter  phone Number !",{position:"top-right",effect:"slide",timeout:3e3}):void 0===a.state.email||""===a.state.email?ue.a.error("Please Enter  Email Carefully!",{position:"top-right",effect:"slide",timeout:3e3}):!1===/^[a-zA-Z0-9\-_]+(\.[a-zA-Z0-9\-_]+)*@[a-z0-9]+(\-[a-z0-9]+)*(\.[a-z0-9]+(\-[a-z0-9]+)*)*\.[a-z]{2,4}$/.test(a.state.email)?ue.a.error("Please Enter Email  Carefully !",{position:"top-right",effect:"slide",timeout:3e3}):void 0===a.state.address||""===a.state.address?ue.a.error("Please Enter  Address !",{position:"top-right",effect:"slide",timeout:3e3}):void 0===a.state.password||""===a.state.password?ue.a.error("Please Enter  Password !",{position:"top-right",effect:"slide",timeout:3e3}):null===a.state.startTiming||""===a.state.startTiming?ue.a.error("Please Enter  Start Timing !",{position:"top-right",effect:"slide",timeout:3e3}):void 0===a.state.endingTiming||""===a.state.endingTiming?ue.a.error("Change  Ending Timing!",{position:"top-right",effect:"slide",timeout:3e3}):0===a.state.offdays.length?ue.a.error("Please Add Off Days!",{position:"top-right",effect:"slide",timeout:3e3}):(console.log(a.state),a.props.saveSettings(a.state),ue.a.success(" Successfully ! Offer Created",{position:"top-right",effect:"slide",timeout:4e3}))},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"app-section"},l.a.createElement(Et.a,{utils:ft.a},l.a.createElement("div",{className:"label-head"},l.a.createElement("img",{src:"/images/label-head.png"}),l.a.createElement("h4",null,"Store Settings")),l.a.createElement(ue.a,{stack:{limit:1}}),l.a.createElement("div",{style:{marginTop:"55px"}},l.a.createElement("div",{className:"row"},l.a.createElement("div",{class:"input-field col s4"},l.a.createElement("input",{value:this.state.name,onChange:this.updateState,placeholder:"Name",id:"name",type:"text",class:"validate"})),l.a.createElement("div",{class:"input-field col s4"},l.a.createElement("input",{value:this.state.phone,onChange:this.updateState,placeholder:"Phone",id:"phone",type:"text",class:"validate"}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{class:"input-field col s4"},l.a.createElement("input",{value:this.state.email,onChange:this.updateState,placeholder:"Email",id:"email",type:"email",class:"validate"})),l.a.createElement("div",{class:"input-field col s4"},l.a.createElement("input",{value:this.state.password,onChange:this.updateState,placeholder:"Password",id:"password",type:"password",class:"validate"}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{class:"input-field col s4"},l.a.createElement("textarea",{value:this.state.address,onChange:this.updateState,placeholder:"Address",id:"address",class:"white-back materialize-textarea"})),l.a.createElement("div",{class:"input-field col s4 white-back"},l.a.createElement(ht.a,{margin:"normal",id:"startTiming",label:"START TIMING",value:this.state.startTiming,onChange:function(t){e.updateState({name:"startTiming",data:t})},KeyboardButtonProps:{"aria-label":"change time"}}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{class:"input-field col s4"},l.a.createElement("div",{class:"chips",ref:"offDays"},l.a.createElement("input",{placeholder:"Add Offday",class:"custom-class"})),l.a.createElement("div",{className:"chipsContainer",ref:"chipsContainer"})),l.a.createElement("div",{class:"input-field col s4 white-back"},l.a.createElement(ht.a,{margin:"normal",id:"endingTiming",label:"END TIMING",value:this.state.endingTiming,onChange:function(t){e.updateState({name:"endingTiming",data:t})},KeyboardButtonProps:{"aria-label":"change time"}})))),l.a.createElement("div",{className:"app-footer"},l.a.createElement("button",{className:"waves-effect waves-light btn-small save",onClick:this.saveStore},l.a.createElement("i",{class:"material-icons"}),"Save"))))}}]),t}(l.a.Component),bt=Object(p.b)((function(e){return{data:yt({},e.storeReducer)}}),(function(e){return{saveSettings:function(t){e(pt(t))}}}))(vt),Ot=Object(p.b)((function(e){return{data:e.salesReducer}}))((function(e){return l.a.createElement("section",{className:"app-section"},l.a.createElement("div",{className:"label-head"},l.a.createElement("img",{src:"/images/label-head.png"}),l.a.createElement("h4",null,"Sale Orders")),l.a.createElement("div",{className:"row"},l.a.createElement("div",{class:"input-field col s3"},l.a.createElement("input",{placeholder:"Placeholder",id:"first_name",type:"text",class:"validate"}),l.a.createElement("label",{className:"adjusted-label",for:"first_name"},"Search Sales"))),l.a.createElement("div",null,l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"SR."),l.a.createElement("th",null,"BIL"),l.a.createElement("th",{className:"wd-200"},"CUSTOMER"),l.a.createElement("th",null,"TOTAL"),l.a.createElement("th",null,"DISCOUNT"),l.a.createElement("th",null,"NET BILL"),l.a.createElement("th",null,"SALES DATE"),l.a.createElement("th",null,"DELIVERY"),l.a.createElement("th",null,"TIME"),l.a.createElement("th",null,l.a.createElement(Z.a,{to:"/newsale"},l.a.createElement("img",{className:"icon add-item",src:"/images/add-icon.png"}))))),l.a.createElement("tbody",null,e.data.sales.map((function(e,t){return l.a.createElement("tr",{key:t},l.a.createElement("td",null,l.a.createElement("b",null,t+1)),l.a.createElement("td",null,e.billNo),l.a.createElement("td",{className:"wd-200"},e.customer.firstName+" "+e.customer.lastName),l.a.createElement("td",null,e.total),l.a.createElement("td",null,e.discount),l.a.createElement("td",null,e.total-e.discount),l.a.createElement("td",null,new Date(e.salesDate).toDateString()),l.a.createElement("td",null,new Date(e.deliveryDate).toDateString()),l.a.createElement("td",null,e.time),l.a.createElement("td",null,l.a.createElement(Z.a,{to:"/newsale/"+e._id,onClick:function(){return t=e,void localStorage.setItem("_id",t._id);var t}},l.a.createElement("img",{title:"Edit",className:"icon pointer",src:"/images/table-icons/edit-icon.png"}))))}))))))})),Pt=function(e){var t=Object(n.useState)(0),a=Object(se.a)(t,2),r=a[0];a[1];return l.a.createElement("div",{className:"delete-payment"},l.a.createElement("div",{class:"modal-overlay",style:{"z-index":1002,display:e.visible?"block":"none",opacity:.5}}),l.a.createElement("div",{id:"modal1",class:"modal",style:{display:e.visible?"block":"none"}},l.a.createElement("div",{class:"modal-content"},l.a.createElement("div",{className:"sub-head"},e.title),l.a.createElement("div",{className:"text-center"},e.description)),l.a.createElement("div",{class:"modal-footer"},l.a.createElement("button",{className:"waves-effect waves-light btn-small save",onClick:function(){e.onYes(r)}},l.a.createElement("i",{class:"material-icons"}),"Confirm"),l.a.createElement("button",{className:"waves-effect waves-light btn-small cancel",onClick:function(){e.onCancel(!1)}},l.a.createElement("i",{class:"material-icons"}),"Cancel"))))},Nt=(a(291),a(292),function(e){var t=Object(n.useState)({amount:0}),a=Object(se.a)(t,2),r=a[0],c=a[1];return Object(n.useEffect)((function(){})),l.a.createElement("div",{className:"add-payment"},l.a.createElement("div",{class:"modal-overlay",style:{"z-index":1002,display:e.visible?"block":"none",opacity:.5}}),l.a.createElement("div",{id:"modal1",class:"modal",style:{display:e.visible?"block":"none"}},l.a.createElement("div",{class:"modal-content"},l.a.createElement("div",{className:"sub-head"},"Payment Details ",e.customer?" for "+e.customer:""),l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("td",null,"Sr."),l.a.createElement("td",null,"Date"),l.a.createElement("td",null,"Cash/Cheque"),l.a.createElement("td",null,"Amount"))),l.a.createElement("tbody",null,e.payments.map((function(e,t){return l.a.createElement("tr",null,l.a.createElement("td",null,t+1),l.a.createElement("td",null,e.date),l.a.createElement("td",null,e.type),l.a.createElement("td",null,e.amount))}))))),l.a.createElement("div",{class:"modal-footer"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col s8"},l.a.createElement("div",{class:"input-field col s12"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col s10"},l.a.createElement("input",Object(u.a)({value:r.amount,placeholder:"Amount",onChange:function(e){c({type:r.type||"",amount:e.target.value})},id:"deliveryDate",type:"number"},"id","paymentAmtBox"))),l.a.createElement("div",{className:"col s2"},l.a.createElement("select",{value:r.type,className:"inline wd-70",onChange:function(e){c({type:e.target.value,amount:r.amount||0})},id:"paymentType"},l.a.createElement("option",{key:"Type",value:"Type"},"Type"),l.a.createElement("option",{key:"Cash",value:"Cash"},"Cash"),l.a.createElement("option",{key:"Cheque",value:"Cheque"},"Cheque")))))),l.a.createElement("div",{className:"col s4"},l.a.createElement("button",{className:"waves-effect waves-light btn-small save"+(r.type&&"Type"!=r.type?"":" disabled"),onClick:function(){r.date=(new Date).toDateString(),c({amount:0,type:"Type"}),e.onPaymentAdded(r)}},l.a.createElement("i",{class:"material-icons"}),"Add Payment"),l.a.createElement("button",{className:"waves-effect waves-light btn-small cancel",onClick:function(){e.onCancel(!1)}},l.a.createElement("i",{class:"material-icons"}),"Cancel"))))))}),St=function(e){return function(t){fetch("/api/sales/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){e._id?(t({type:"SALE_CREATED",payload:e}),C.b.success(oe.sales.saved)):C.b.error(oe.sales.error.cannotCreate)}))}};function Ct(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function At(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ct(a,!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ct(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Dt=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(o.a)(this,Object(i.a)(t).call(this))).onProductUpdate=function(t,a,n){t.product=n,t.uPrice=n.customerPrice,t.shopkeeperPrice=n.shopkeeperPrice,e.setState(e.state)},e.putNewOrder=function(){return{product:Object(u.a)({customerPrice:0,shopkeeperPrice:0,productQty:0,cartonSize:0},"productQty",0),crtn:0,units:0,fUnit:0,total:0,discountPerc:0,unitDisc:0,discountedAmt:0,net:0,deleted:!1,inProcess:!0}},e.updateState=function(t){console.log(t),e.state[t.target.id]=t.target.value,e.setState(e.state)},e.updateBill=function(t,a,n){t[a]=n,e.setState(e.state)},e.deleteItem=function(){e.state.selectedBill&&(e.state.selectedBill.deleted=!0,e.state.deleteDialog=!1,e.setState(e.state))},e.restoreItem=function(){e.state.selectedBill&&(e.state.selectedBill.deleted=!1,e.state.deleteDialog=!1,e.setState(e.state))},e.onPaymentAdded=function(t){t&&(e.state.payments.push(t),e.setState(e.state))},e.componentDidMount=function(){var t=localStorage.getItem("_id");console.log(e.props.match),e.props.data.sales.forEach((function(a){a._id===t&&(console.log(a),e.setState({deliveryDate:a.deliveryDate,salesDate:a.salesDate,total:a.total,discount:a.discount,customer:a.customer,area:a.area,notes:a.notes}))})),window.$(e.refs.salesDatePicker).datepicker({onSelect:function(t){e.setState({salesDate:t}),window.$(e.refs.deliveryDatePicker).datepicker({minDate:t})}}),window.$(e.refs.deliveryDatePicker).datepicker({})},e.saveSale=function(){e.state.billNo=e.props.data.saleCode,e.props.saveSale(e.state)},e.state={deliveryDate:new Date,salesDate:null,deleteDialog:!1,total:0,discount:0,customer:{id:0},payments:[],area:{},bills:[e.putNewOrder()],notes:""},e.defaultAction=e.deleteItem,e}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentWillUnmount",value:function(){localStorage.clear()}},{key:"render",value:function(){var e,t=this,a=this.state.bills.filter((function(e){return!e.deleted})),n=0,r=0,c=0;a.length?a.forEach((function(e){e.total=Math.round(e.crtn*(e.product.cartonSize||1)*(e.product.shopkeeperPrice||0)+(e.units||0)*(e.product.shopkeeperPrice||0)),e.discountedAmt=Math.round(e.total*(e.discountPerc/100)),n+=+e.total,r+=+e.discountedAmt,c+=+e.unitDisc})):(n=+a[0].total,r=+a[0].discountedAmt,c=+a[0].unitDisc),this.state.total=n,this.state.discount=r+c;var s=0;return this.state.payments.forEach((function(e){s+=+e.amount})),l.a.createElement("section",{className:"app-section new-sale"},l.a.createElement(Nt,{onCancel:function(){t.setState({addingPayment:!1})},payments:this.state.payments,customer:this.state.customer.name,visible:this.state.addingPayment,onPaymentAdded:this.onPaymentAdded}),l.a.createElement(Pt,{onYes:function(){t.defaultAction()},onCancel:function(){t.setState({deleteDialog:!1})},title:this.state.title,description:this.state.description,visible:this.state.deleteDialog}),l.a.createElement("div",{className:"label-head"},l.a.createElement("img",{src:"/images/label-head.png"}),l.a.createElement("h4",null,"New Sale"),l.a.createElement("h5",null,"BILL#: ",l.a.createElement("span",null,this.props.data.saleCode)),l.a.createElement("div",{className:"billSummary"},l.a.createElement("div",{class:"row"},l.a.createElement("span",{className:"bill-summary col s6"},"Total Billed Amount")," ",l.a.createElement("span",{className:"total-sum col s4"},Math.round(n))," "),l.a.createElement("div",{class:"row"},l.a.createElement("span",{className:"bill-summary col s6"},"Total Item Discount"),l.a.createElement("span",{className:"total-sum col s4"},Math.round(r))," "),l.a.createElement("div",{class:"row"},l.a.createElement("span",{className:"bill-summary col s6"},"Total Unit Amount"),l.a.createElement("span",{className:"total-sum col s4"},Math.round(c))," "),l.a.createElement("div",{class:"row"},l.a.createElement("span",{className:"bill-summary col s6"},"Bill Discount"),l.a.createElement("span",{className:"total-sum col s4"},Math.round(r+c))," "),l.a.createElement("div",{class:"row gray-back"},l.a.createElement("span",{className:"bill-summary col s6"},"Total Payable"),l.a.createElement("span",{className:"total-sum col s4"},Math.round(n))," "),l.a.createElement("div",{class:"row gray-back disabled"},l.a.createElement("span",{className:"bill-summary col s6"},"Paid"),l.a.createElement("span",{className:"total-sum col s4"},Math.round(s))," ")),l.a.createElement("div",{className:"text-right right-panel"},l.a.createElement("img",{onClick:function(){t.setState({addingPayment:!0})},title:"Add Payment",className:"icon panel-icon pointer",src:"/images/panel-icons/payment.png"}),l.a.createElement("img",{onClick:function(){t.saveSale()},title:"Save And Continue",className:"icon panel-icon pointer",src:"/images/panel-icons/add-icon.png"}),l.a.createElement("img",{title:"Save",className:"icon panel-icon pointer",src:"/images/panel-icons/save.png"}),l.a.createElement("img",{title:"Print",className:"icon panel-icon pointer",src:"/images/panel-icons/print.png"}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{class:"input-field col s3"},l.a.createElement(Ke,{property:"name",defaultValue:"thsisfd",onChange:function(e,a){a&&t.updateState({target:{id:"area",value:a._id}})},data:this.props.data.areas,placeholder:"Select Area"})),l.a.createElement("div",{class:"input-field col s3"},l.a.createElement(Ke,{property:"firstName",defaultValue:this.props.data.customers[0],onChange:function(e,a){a&&t.updateState({target:{id:"customer",value:a._id}})},data:this.props.data.customers.filter((function(e){return e.area._id==t.state.area})),placeholder:"Select Customer"})),l.a.createElement("div",{class:"input-field col s3"},l.a.createElement("input",{onChange:this.updateState,placeholder:"Sales Date",className:"datepicker",id:"salesDate",ref:"salesDatePicker",type:"text"}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{class:"input-field col s3"},l.a.createElement("input",(e={className:this.state.salesDate?"":"disabled",onChange:this.updateState,placeholder:"Delievry Date",id:"deliveryDate",type:"text"},Object(u.a)(e,"id","deliveryDate"),Object(u.a)(e,"ref","deliveryDatePicker"),e))),l.a.createElement("div",{class:"input-field col s3"},l.a.createElement("textarea",{value:this.state.notes,onChange:this.updateState,placeholder:"Notes",id:"notes",class:"white materialize-textarea"}))),l.a.createElement("div",null,l.a.createElement("table",{className:"sales-table"},l.a.createElement("thead",{className:"sales-thead"},l.a.createElement("tr",null,l.a.createElement("th",{className:"auto-width"},"SR."),l.a.createElement("th",{className:"wd-50"},"STOCK"),l.a.createElement("th",{style:{width:"255px"}},"PRODUCT"),l.a.createElement("th",{className:"wd-70"},"CRTN"),l.a.createElement("th",{className:"wd-70"},"UNITS"),l.a.createElement("th",{className:"wd-70"},"F.UNIT"),l.a.createElement("th",{className:"wd-70"},"UNIT PRICE"),l.a.createElement("th",{className:"wd-70"},"SHOPKEEPER PRICE"),l.a.createElement("th",{className:"wd-70"},"TOTAL"),l.a.createElement("th",null,"% DISCOUNT"),l.a.createElement("th",null,"Rs."),l.a.createElement("th",null,"Unit Disc."),l.a.createElement("th",null,"Net"))),l.a.createElement("tbody",{className:"auto-td sales-tbody"},this.state.bills.map((function(e,a){var n=(e.product.productQty/e.product.cartonSize).toString().split(".")[0];return n="NaN"!=n.toString()?n+":"+(e.product.productQty-e.product.cartonSize*n):":",l.a.createElement("tr",{className:e.deleted?"deleted-row":""},l.a.createElement("td",null,l.a.createElement("b",null,a+1)),l.a.createElement("td",{className:"wd-50 f-n"+(":"==n.toString()?" unvisible":"")}," ",l.a.createElement("span",{className:"stock-indicator"},n)),l.a.createElement("td",null,l.a.createElement(Ke,{property:"name",onChange:function(a,n){n&&t.onProductUpdate(e,a,n)},data:t.props.data.products.filter((function(a){return 0==t.state.bills.filter((function(t){return e!=t&&t.product.id==a.id})).length})),placeholder:"Select Product"})),l.a.createElement("td",null,l.a.createElement("input",{placeholder:"crtn",onChange:function(a){var n=+(e.product.productQty/e.product.cartonSize).toString().split(".")[0];+a.target.value>n?(e.unitDisc=0,t.updateBill(e,a.target.id,n)):t.updateBill(e,a.target.id,a.target.value)},className:"input-60",type:"number",id:"crtn",value:e.crtn})),l.a.createElement("td",null,l.a.createElement("input",{placeholder:"Units",onChange:function(a){(e.product.productQty/e.product.cartonSize).toString().split(".")[0],e.product.productQty;var n=e.crtn*e.product.cartonSize+ +a.target.value;if(n>e.product.productQty)if(e.product.productQty-n>0)t.updateBill(e,a.target.id,a.target.value);else{var l=a.target.value-(n-e.product.productQty);e.unitDisc=0,t.updateBill(e,a.target.id,l)}else t.updateBill(e,a.target.id,a.target.value)},className:"input-60",type:"number",id:"units",value:e.units})),l.a.createElement("td",null,l.a.createElement("input",{placeholder:"Funits",className:"input-60",type:"number",value:e.fUnit})),l.a.createElement("td",null,l.a.createElement("input",{placeholder:"UPrice",className:"input-60",disabled:!0,type:"number",value:e.product.customerPrice})),l.a.createElement("td",null,l.a.createElement("input",{className:"input-60",disabled:!0,type:"text",readonly:!0,value:e.product.shopkeeperPrice})),l.a.createElement("td",null,l.a.createElement("input",{className:"input-80",disabled:!0,type:"text",readonly:!0,value:function(e){return e.total}(e)})),l.a.createElement("td",null,l.a.createElement("input",{onInput:function(a){t.updateBill(e,a.target.id,a.target.value)},className:"input-60",id:"discountPerc",type:"number",value:e.discountPerc})),l.a.createElement("td",null,l.a.createElement("input",{disabled:!0,className:"input-80",type:"number",value:function(e){return e.discountedAmt}(e)})),l.a.createElement("td",null,l.a.createElement("input",{id:"unitDisc",onInput:function(a){t.updateBill(e,a.target.id,a.target.value)},className:"input-80",onKeyDown:function(a){if("Enter"==a.key){if(!e.product._id)return void C.b.error("PLEASE SELECT A PRODUCT");t.state.bills[t.state.bills.length-1].inProcess=!1,t.state.bills.push(t.putNewOrder()),t.setState(t.state)}},type:"number",value:e.unitDisc})),l.a.createElement("td",null,l.a.createElement("input",{className:"input-80",type:"number",disabled:!0,value:e.total-e.discountedAmt-e.unitDisc})),l.a.createElement("td",null,e.inProcess?l.a.createElement("i",{class:"material-icons dp48 green pointer",onClick:function(){t.state.bills[t.state.bills.length-1]&&(t.state.bills[t.state.bills.length-1]=t.putNewOrder()),t.setState(t.state.bills)}},"done_all"):l.a.createElement("i",{class:"material-icons dp48 pink pointer",onClick:function(){e.deleted?(t.defaultAction=t.restoreItem,t.setState({description:"Are you sure, you want to restore this item?",title:"Restore Item",selectedBill:e,deleteDialog:!0})):(t.defaultAction=t.deleteItem,t.setState({description:"Are you sure, you want to delete this item?",title:"Delete Current Item",selectedBill:e,deleteDialog:!0}))}}," ",e.deleted?"refresh":"delete_forever")))}))))))}}]),t}(l.a.Component),wt=Object(p.b)((function(e){return console.log("store",e),{data:At({},e.salesReducer,{},e.areaReducers,{},e.customerReducer,{},e.productReducers)}}),(function(e){return{saveSale:function(t){e(St(t))}}}))(Dt),jt=function(e){return fetch("/api/users/salary/get?id="+e,{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()}))},Tt=function(e){return function(t){fetch("/api/users/salary/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){e._id?(t({type:"SALARY_SAVED"}),C.b.success(oe.users.salaryCreated)):C.b.error(oe.users.error.cannotCreateSalary)}))}},Rt=function(e){return function(t){fetch("/api/users/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(a){a._id?(t({type:e._id?"USER_UPDATED":"USER_CREATED",payload:a,model:"users"}),C.b.success(oe.users[e._id?"updated":"created"])):C.b.error(oe.users.error.cannotCreate)}))}},kt=a(135),Ut=a.n(kt),_t=a(357),It=a(365),Mt=a(349),xt=a(300);function Lt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function zt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Lt(a,!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Lt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Bt(e){var t=e.children,a=e.value,n=e.index,r=Object(Ge.a)(e,["children","value","index"]);return l.a.createElement(et.a,Object.assign({component:"div",role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},r),l.a.createElement(tt.a,{p:3},t))}function Ft(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var Jt=Object($e.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper}}})),Yt=Object(p.b)((function(e){return{data:zt({},e.userReducer,{},e.areaReducers)}}),(function(e){return{fetchSalaries:function(e){return jt(e)},updateUser:function(t){e(Rt(t))},createSalary:function(t){e(Tt(t))}}}))((function(e){var t=Object(n.useState)(zt({},e.user)),a=Object(se.a)(t,2),r=a[0],c=a[1];console.log("PropsUser",zt({},e.user),r);l.a.createRef(),l.a.createRef();var s=Object(n.useState)({records:[]}),o=Object(se.a)(s,2),i=o[0],d=o[1];function u(e){r[e.target.id]=e.target.value,c(zt({},r))}var m=Jt();var p=l.a.useRef();Object(n.useEffect)((function(){window.$(p.current).dropdown()}));var E=l.a.useState(0),h=Object(se.a)(E,2),f=h[0],g=h[1],y=l.a.useState("regularpay"),v=Object(se.a)(y,2),b=v[0],O=v[1],P=l.a.useState(j.time.getMonthName()),N=Object(se.a)(P,2),S=N[0],C=N[1];return fetch("/api/attendance/get",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:e.user._id,month:j.time.getMonthFromName(S)})}).then((function(e){return e.json()})).then((function(t){var a=j.time.getMonthDays(S),n=a-t.length,l=e.user.salary/a*t.length;c({amount:Math.round(l),offdays:n}),console.log(20)})),l.a.createElement("div",{className:"add-user"},l.a.createElement("div",{class:"modal-overlay",style:{"z-index":1002,display:"block",opacity:.5}}),l.a.createElement("div",{id:"modal1",class:"modal",style:{display:"block",height:"405px"}},l.a.createElement("div",{class:"modal-content"},l.a.createElement("div",{className:m.root},l.a.createElement(We.a,{position:"static"},l.a.createElement(Ze.a,{value:f,onChange:function(t,a){1==a&&e.fetchSalaries(e.user._id).then((function(e){d({records:e})})),g(a)},"aria-label":"simple tabs example"},l.a.createElement(Xe.a,Object.assign({label:"ADD NEW"},Ft(0))),l.a.createElement(Xe.a,Object.assign({label:"PREVIOUS SALARIES"},Ft(1))),l.a.createElement(Xe.a,Object.assign({label:"Payroll"},Ft(2))))),l.a.createElement(Bt,{value:f,index:0},l.a.createElement("div",{className:"row"},l.a.createElement("div",{class:"input-field col s6"},l.a.createElement(lt.a,{component:"fieldset",className:m.formControl},l.a.createElement(xt.a,{component:"legend"},"Payment Type"),l.a.createElement(It.a,{"aria-label":"paymentType",name:"paymentType",value:b,onChange:function(e){O(e.target.value)}},l.a.createElement(Mt.a,{value:"prepay",control:l.a.createElement(_t.a,null),label:"PRE-PAY"}),l.a.createElement(Mt.a,{value:"regularpay",control:l.a.createElement(_t.a,null),label:"REGULAR PAY"})))),l.a.createElement("div",{class:"input-field col s6"},l.a.createElement("input",{value:r.amount,onChange:u,placeholder:"Amount",id:"amount",type:"number",class:"validate"}),l.a.createElement("input",{readOnly:!0,value:r.offdays,onChange:function(t){var a=j.time.getMonthDays(j.time.getMonthName()),n=e.user.salary/a*(a-t.target.value);c({amount:Math.round(n)})},placeholder:"Off Days",id:"offdays",type:"number",class:"validate"}),l.a.createElement("a",{class:"dropdown-trigger btn",ref:p,href:"#","data-target":"dropdown1"},S),l.a.createElement("ul",{title:"Select Month",onClick:function(e){C(e.target.innerText)},id:"dropdown1",class:"dropdown-content"},l.a.createElement("li",null,l.a.createElement("a",{href:"#!"},"JANUARY")),l.a.createElement("li",null,l.a.createElement("a",{href:"#!"},"FEBRUARY")),l.a.createElement("li",null,l.a.createElement("a",{href:"#!"},"MARCH")),l.a.createElement("li",null,l.a.createElement("a",{href:"#!"},"APRIL")),l.a.createElement("li",null,l.a.createElement("a",{href:"#!"},"MAY")),l.a.createElement("li",null,l.a.createElement("a",{href:"#!"},"JUNE")),l.a.createElement("li",null,l.a.createElement("a",{href:"#!"},"JULY")),l.a.createElement("li",null,l.a.createElement("a",{href:"#!"},"AUGUST")),l.a.createElement("li",null,l.a.createElement("a",{href:"#!"},"SEPTEMBER")),l.a.createElement("li",null,l.a.createElement("a",{href:"#!"},"OCTOBER")),l.a.createElement("li",null,l.a.createElement("a",{href:"#!"},"NOVEMBER")),l.a.createElement("li",null,l.a.createElement("a",{href:"#!"},"DECEMBER"))))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col s6"},l.a.createElement("table",{className:"center-black text-black",border:"1"},l.a.createElement("tr",null,l.a.createElement("th",null,"TOTAL SALARY"),l.a.createElement("td",{className:"center-table"},l.a.createElement(Ut.a,{quantity:e.user.salary,currency:"PKR"})," ")),l.a.createElement("tr",null,l.a.createElement("th",null,"TOTAL OFFDAYS"),l.a.createElement("td",{className:"center-table"},r.offdays)),l.a.createElement("tr",null,l.a.createElement("th",null,"PAYABLE SALARY"),l.a.createElement("td",{className:"border-top center-table"},l.a.createElement(Ut.a,{quantity:r.amount,currency:"PKR"}))))))),l.a.createElement(Bt,{value:f,index:1},l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"SR."),l.a.createElement("th",null,"Date"),l.a.createElement("th",null,"Type"),l.a.createElement("th",null,"Month"),l.a.createElement("th",null,"Amount"))),l.a.createElement("tbody",null,i.records.map((function(e,t){return l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("b",null,t+1)),l.a.createElement("td",null,new Date(e.date).toDateString()),l.a.createElement("td",null,e.type),l.a.createElement("td",null,e.month),l.a.createElement("td",null,e.amount))}))))),l.a.createElement(Bt,{value:f,index:2},l.a.createElement("div",{className:"row"},l.a.createElement("div",{class:"input-field col s6"},l.a.createElement("input",{value:r.salary,onChange:u,placeholder:"Salary",id:"salary",type:"number",class:"validate"}),l.a.createElement("a",{className:"btn",onClick:function(){e.updateUser({_id:e.user._id,salary:r.salary})}},"Update")))))),0==f?l.a.createElement("div",{class:"modal-footer absolute-bottom"},l.a.createElement("button",{className:"waves-effect waves-light btn-small save",onClick:function(){e.createSalary({type:b,user:e.user._id,month:S,amount:r.amount})}},l.a.createElement("i",{class:"material-icons"}),"Issue Salary"),l.a.createElement("button",{className:"waves-effect waves-light btn-small cancel",onClick:function(){e.showAddUser(!1)}},l.a.createElement("i",{class:"material-icons"}),"Cancel")):null))})),Ht=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).state={targetUser:{areas:[]},openUserForm:!1},a.render=function(){return-1==a.props.data.users.indexOf(a.state.targetUser)&&(a.state.targetUser=a.props.data.users.find((function(e){return e._id==a.state.targetUser._id}))||{areas:[]}),l.a.createElement("section",{className:"app-section"},a.state.openUserForm?l.a.createElement(Yt,{user:a.state.targetUser,showAddUser:function(){a.setState({openUserForm:!1})}}):null,l.a.createElement("div",{className:"label-head"},l.a.createElement("img",{src:"/images/label-head.png"}),l.a.createElement("h4",null,"Salary")),l.a.createElement("div",{className:"row"},l.a.createElement("div",{class:"input-field col s3"},l.a.createElement("input",{placeholder:"Placeholder",id:"first_name",type:"text",class:"validate"}),l.a.createElement("label",{className:"adjusted-label",for:"first_name"},"Search Users"))),l.a.createElement("div",null,l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"SR."),l.a.createElement("th",null,"EMPLOYEE CODE"),l.a.createElement("th",{className:"wd-200"},"FULL NAME"),l.a.createElement("th",{className:"wd-200"},"EMAIL"),l.a.createElement("th",null,"CONTACT"),l.a.createElement("th",null,"ADDRESS"),l.a.createElement("th",null,"DATE"),l.a.createElement("th",null,l.a.createElement("img",{onClick:function(){a.setState({targetUser:{areas:[]},openUserForm:!0})},className:"icon add-item",src:"/images/add-icon.png"})))),l.a.createElement("tbody",null,a.props.data.users.map((function(e,t){var n;return l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("b",null,t+1)),l.a.createElement("td",null,e.code),l.a.createElement("td",{className:"wd-200"},e.fullName),l.a.createElement("td",null,e.email),l.a.createElement("td",null,e.phone),l.a.createElement("td",null,e.areas.map((function(e){return e.name})).join(",")),l.a.createElement("td",null,e.date),l.a.createElement("td",null,l.a.createElement("img",(n={title:"Show Salary Details",className:"pointer",onClick:function(){a.setState({targetUser:e,openUserForm:!0})}},Object(u.a)(n,"className","icon pointer"),Object(u.a)(n,"src","/images/table-icons/detail-icon.png"),n))))}))))))},a}return Object(d.a)(t,e),t}(l.a.Component),Gt=Object(p.b)((function(e){return{data:e.userReducer}}))(Ht),Qt=function(e){return function(t){fetch("/api/expenses/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){e._id?(t({type:"EXPENSE_CREATED",payload:e}),C.b.success(oe.expenses.created)):C.b.error(oe.expenses.error.cannotCreate)}))}};function Vt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function qt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Vt(a,!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Vt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Kt=Object($e.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper}}})),$t=Object(p.b)((function(e){return{data:qt({},e.expensesReducer)}}),(function(e){return{createExpense:function(t){e(Qt(t))}}}))((function(e){var t,a=Object(n.useState)({}),r=Object(se.a)(a,2),c=r[0],s=r[1];function o(e){c[e.target.id]=e.target.value,s(qt({},c))}var i=Kt(),d=Object(n.useRef)();return Object(n.useEffect)((function(){window.$(d.current).datepicker({minDate:new Date})})),l.a.createElement("div",{className:"add-user"},l.a.createElement("div",{class:"modal-overlay",style:{"z-index":1002,display:"block",opacity:.5}}),l.a.createElement("div",{id:"modal1",class:"modal modal-small",style:{display:"block",height:"405px"}},l.a.createElement("div",{class:"modal-content"},l.a.createElement("div",{className:"def-modal-body modal-body"},l.a.createElement("input",{className:"readonly-code",placeholder:"Customer Code",value:e.data.expCode,readOnly:!0,id:"code",type:"text"}),l.a.createElement("div",{className:"sub-head"},"Add Expense"),l.a.createElement("div",{className:i.root},l.a.createElement("div",{className:"row"},l.a.createElement("div",{class:"input-field col s12"},l.a.createElement("input",{value:c.amount,onChange:o,placeholder:"Amount",id:"amount",type:"number",class:"validate"}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{class:"input-field col s12 text-center"},l.a.createElement("input",(t={onChange:o,placeholder:"Date",id:"date",type:"text"},Object(u.a)(t,"id","deliveryDate"),Object(u.a)(t,"ref",d),t)))),l.a.createElement("div",{class:"input-field col s12"},l.a.createElement("textarea",{onChange:o,placeholder:"Notes",id:"notes",class:"white materialize-textarea"}))))),l.a.createElement("div",{class:"modal-footer absolute-bottom"},l.a.createElement("button",{className:"waves-effect waves-light btn-small save",onClick:function(){c.code=e.data.expCode,e.createExpense(c)}},l.a.createElement("i",{class:"material-icons"}),"Save Expense"),l.a.createElement("button",{className:"waves-effect waves-light btn-small cancel",onClick:function(){e.showAddUser(!1)}},l.a.createElement("i",{class:"material-icons"}),"Cancel"))))})),Wt=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).state={targetUser:{areas:[]},openUserForm:!1},a.render=function(){return l.a.createElement("section",{className:"app-section"},a.state.openUserForm?l.a.createElement($t,{user:a.state.targetUser,showAddUser:function(){a.setState({openUserForm:!1})}}):null,l.a.createElement("div",{className:"label-head"},l.a.createElement("img",{src:"/images/label-head.png"}),l.a.createElement("h4",null,"Expenses")),l.a.createElement("div",{className:"row"},l.a.createElement("div",{class:"input-field col s3"},l.a.createElement("input",{placeholder:"Placeholder",id:"first_name",type:"text",class:"validate"}),l.a.createElement("label",{className:"adjusted-label",for:"first_name"},"Search Users"))),l.a.createElement("div",null,l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"SR."),l.a.createElement("th",null,"EXPENSE CODE"),l.a.createElement("th",null,"AMOUNT"),l.a.createElement("th",null,"DATE"),l.a.createElement("th",{className:"wd-200"},"NOTES"),l.a.createElement("th",null,l.a.createElement("img",{onClick:function(){a.setState({targetUser:{},openUserForm:!0})},className:"icon add-item",src:"/images/add-icon.png"})))),l.a.createElement("tbody",null,a.props.data.expenses.map((function(e,t){return l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("b",null,t+1)),l.a.createElement("td",null,e.code),l.a.createElement("td",null,e.amount),l.a.createElement("td",null,new Date(e.date).toDateString()),l.a.createElement("td",{className:"wd-200"},e.notes))}))))))},a}return Object(d.a)(t,e),t}(l.a.Component),Zt=Object(p.b)((function(e){return{data:e.expensesReducer}}))(Wt),Xt=(a(293),function(e){var t=Object(n.useState)(0),a=Object(se.a)(t,2),r=a[0],c=a[1];return l.a.createElement("div",{className:"payment-adder"},l.a.createElement("div",{class:"modal-overlay",style:{"z-index":1002,display:e.visible?"block":"none",opacity:.5}}),l.a.createElement("div",{id:"modal1",class:"modal",style:{display:e.visible?"block":"none"}},l.a.createElement("div",{class:"modal-content"},l.a.createElement("div",{className:"sub-head"},"Add Payment"),l.a.createElement("div",{className:"text-center"},l.a.createElement("select",{className:"inline"},l.a.createElement("option",null,"Cash"),l.a.createElement("option",null,"Cheque")),l.a.createElement("input",{value:r,onChange:function(e){c(e.target.value)},type:"number"}))),l.a.createElement("div",{class:"modal-footer"},l.a.createElement("button",{className:"waves-effect waves-light btn-small save",onClick:function(){e.onPaymentAdded(r)}},l.a.createElement("i",{class:"material-icons"}),"Save"),l.a.createElement("button",{className:"waves-effect waves-light btn-small cancel",onClick:function(){e.toggleMenu(!1)}},l.a.createElement("i",{class:"material-icons"}),"Cancel"))))}),ea=Object(p.b)((function(e){return{data:e.dataReducers}}),(function(e){return{addPaymentToSupplier:function(t){e({type:"PAY_TO_SUPPLIER",payload:t})}}}))((function(e){var t=Object(n.useState)(!1),a=Object(se.a)(t,2),r=a[0],c=a[1],s=function(t){console.log(e.match.params),c(t)};return l.a.createElement("section",{className:"app-section"},r&&l.a.createElement(Xt,{visible:r,toggleMenu:s,onPaymentAdded:function(t){e.addPaymentToSupplier({supplierID:e.match.params.id,totalPayable:7500,amountPaid:t,date:new Date}),c(!1)}}),l.a.createElement("div",{className:"label-head"},l.a.createElement("img",{src:"/images/label-head.png"}),l.a.createElement("h4",null,"Account Details")),l.a.createElement("div",{className:"row"},l.a.createElement("div",{class:"input-field col s3"})),l.a.createElement("div",null,l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{className:"wd-200"},"TOTAL PAYABLE"),l.a.createElement("th",{className:"wd-200"},"AMOUNT PAID"),l.a.createElement("th",{className:"wd-200"},"BALANCE"),l.a.createElement("th",{className:"wd-200"}),l.a.createElement("th",null,l.a.createElement("img",{onClick:function(){s(!0)},className:"icon add-item",src:"/images/add-icon.png"})))),l.a.createElement("tbody",null,e.data.supplierAccounts.map((function(e,t){return l.a.createElement("tr",null,l.a.createElement("td",{className:"wd-200"},e.totalPayable),l.a.createElement("td",{className:"wd-200"},e.amountPaid),l.a.createElement("td",{className:"wd-200"},e.totalPayable-e.amountPaid),l.a.createElement("td",{className:"wd-200"}))}))))))})),ta=function(e){return function(t){fetch("/api/customers/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(a){a._id?(t({type:e._id?"CUSTOMER_UPDATED":"CUSTOMER_CREATED",payload:a,model:"customers"}),C.b.success(oe.customers[e._id?"updated":"created"])):C.b.error(oe.customers.error.cannotCreate)}))}};function aa(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function na(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?aa(a,!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):aa(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var la=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(o.a)(this,Object(i.a)(t).call(this))).updateState=function(t){console.log(t),e.state[t.target.id]=t.target.value,console.log("area",e.state.area);var a=e.state.customers.filter((function(e){return"area"===t.target.id?e.area._id==t.target.value:"customer"===t.target.id?e.firstName==t.target.value:e}));console.log("fl",a),t.target.value&&e.setState({customers:a})},e.state={activePage:1,itemPerPage:10,customer:{id:0},customers:[],area:{}},e}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.setState({customers:this.props.data.customers})}},{key:"handlePageChange",value:function(e){console.log("active page is ".concat(e)),this.setState({activePage:e})}},{key:"render",value:function(){var e,t=this,a=this.state.activePage*this.state.itemPerPage,n=a-this.state.itemPerPage,r=this.state.customers.slice(n,a);return l.a.createElement("section",{className:"app-section"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{class:"input-field col s5"},l.a.createElement(Ke,(e={property:"name",defaultValue:"thsisfd"},Object(u.a)(e,"defaultValue",this.props.data.customers[0]),Object(u.a)(e,"onChange",(function(e,a){a&&t.updateState({target:{id:"area",value:a._id}})})),Object(u.a)(e,"data",this.props.data.areas),Object(u.a)(e,"placeholder","Select Area"),e))),l.a.createElement("div",{class:"input-field col s5"},l.a.createElement(Ke,{property:"firstName",defaultValue:this.props.data.customers[0],onChange:function(e,a){a&&t.updateState({target:{id:"customer",value:a.firstName}})},data:this.state.customers.filter((function(e){return e.area._id==t.state.area})),placeholder:"Select Customer"}))),l.a.createElement("div",{className:"label-head"},l.a.createElement("img",{src:"/images/label-head.png"}),l.a.createElement("h4",null,"Suppliers")),l.a.createElement("div",null,l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"SR."),l.a.createElement("th",null,"CODE"),l.a.createElement("th",null,"FULL NAME"),l.a.createElement("th",null,"COMPANY"),l.a.createElement("th",{className:"wd-200"},"PHONE"),l.a.createElement("th",{className:"wd-200"},"ADDRESS"),l.a.createElement("th",null))),l.a.createElement("tbody",null,r.map((function(e,t){return l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("b",null,t+1)),l.a.createElement("td",null,e.code),l.a.createElement("td",null,e.firstName+" "+(e.lastName||"")),l.a.createElement("td",null,e.company.name),l.a.createElement("td",{className:"wd-200"},e.phone),l.a.createElement("td",{className:"wd-200"},e.address),l.a.createElement("td",null,l.a.createElement(Z.a,{to:"/accountsdetails/"+e.id},l.a.createElement("img",{className:"icon",src:"/images/details-icon.png"}))))}))))),l.a.createElement("center",null,l.a.createElement(fe.a,{activePage:this.state.activePage,itemsCountPerPage:r.length,totalItemsCount:this.state.customers.length,pageRangeDisplayed:r.length,onChange:function(e){return t.handlePageChange(e)}})))}}]),t}(l.a.Component),ra=Object(p.b)((function(e){return{data:na({},e.customerReducer)}}))(la);a(294);function ca(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function sa(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ca(a,!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ca(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var oa=Object(p.b)((function(e){return{data:sa({},e.customerReducer,{},e.companyReducers,{},e.areaReducers)}}),(function(e){return{createCustomer:function(t){e(ta(t))}}}))((function(e){var t=Object(p.c)((function(e){return{code:e.customerReducer.code}})).code,a=Object(n.useState)(sa({code:t},e.customer)),r=Object(se.a)(a,2),c=r[0],s=r[1];function o(e){c[e.target.id]=e.target.value,s(sa({},c))}return l.a.createElement("div",{className:"add-customer"},l.a.createElement("div",{class:"modal-overlay",style:{"z-index":1002,display:"block",opacity:.5}}),l.a.createElement("div",{id:"modal1",class:"modal full-max-height",style:{display:"block"}},l.a.createElement("div",{class:"modal-content"},l.a.createElement("div",{className:"sub-head"},"Add Customer"),l.a.createElement("div",{className:"modal-body"},l.a.createElement(ue.a,{stack:{limit:1}}),l.a.createElement("input",{className:"readonly-code",placeholder:"Customer Code",value:t,readOnly:!0,id:"code",type:"text"}),l.a.createElement("div",{className:"row"},l.a.createElement("div",{class:"input-field col s6"},l.a.createElement("select",{value:c.area._id,onChange:o,id:"area",className:"inline"},[{name:"Select Area"}].concat(e.data.areas).map((function(e){return l.a.createElement("option",{value:e._id},e.name)})))),l.a.createElement("div",{class:"input-field col s6"},l.a.createElement("input",{value:c.phone,onChange:o,placeholder:"Phone",id:"phone",type:"number",class:"validate"}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{class:"input-field col s6"},l.a.createElement("input",{value:c.firstName,onChange:o,placeholder:"First Name",id:"firstName",type:"text",class:"validate"})),l.a.createElement("div",{class:"input-field col s6"},l.a.createElement("input",{value:c.lastName,onChange:o,placeholder:"Last Name",id:"lastName",type:"text",class:"validate"}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{class:"input-field col s6"},l.a.createElement("input",{value:c.email,onChange:o,placeholder:"Email",id:"email",type:"email",class:"validate"})),l.a.createElement("div",{class:"input-field col s6"},l.a.createElement("select",{value:c.gender,onChange:o,className:"inline",id:"gender"},l.a.createElement("option",null,"Gender"),l.a.createElement("option",{value:"Male"},"Male"),l.a.createElement("option",{value:"Female"},"Female")))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{class:"input-field col s6"},l.a.createElement("input",{value:c.zip,onChange:o,placeholder:"Zip",id:"zip",type:"number",class:"validate",maxlength:"11"})),l.a.createElement("div",{class:"input-field col s6"},l.a.createElement("select",{value:c.province,onChange:o,className:"inline",id:"province"},l.a.createElement("option",{value:"Province"},"Province"),l.a.createElement("option",{value:"Punjab"},"Punjab"),l.a.createElement("option",{value:"Sindh"},"Sindh"),l.a.createElement("option",{value:"Balochistan"},"Balochistan"),l.a.createElement("option",{value:"KPK"},"KPK"),l.a.createElement("option",{value:"Gilgit Baltistan"},"Gilgit Baltistan")))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{class:"input-field col s6"},l.a.createElement("textarea",{value:c.address,onChange:o,placeholder:"Address",id:"address",class:"materialize-textarea"})),l.a.createElement("div",{class:"input-field col s6"},l.a.createElement("input",{value:c.city,onChange:o,placeholder:"City",id:"city",type:"text",class:"validate"}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{class:"input-field col s6"},l.a.createElement("textarea",{value:c.comments,onChange:o,placeholder:"Comments",id:"comments",class:"materialize-textarea"})),l.a.createElement("div",{class:"input-field col s6"},l.a.createElement("select",{value:c.company._id,onChange:o,id:"company",className:"inline"},[{name:"Select Company"}].concat(e.data.companies).map((function(e){return l.a.createElement("option",{value:e._id},e.name)}))))))),l.a.createElement("div",{class:"modal-footer"},l.a.createElement("button",{className:"waves-effect waves-light btn-small save",onClick:function(){console.log(Object.keys(c.area)),console.log("state.firstName",c.firstName),void 0===c.firstName||""===c.firstName?ue.a.error("Please Enter Customer Name !",{position:"top-right",effect:"slide",timeout:3e3}):void 0===c.lastName||""===c.lastName?ue.a.error("Please Enter Customer Last  Name!",{position:"top-right",effect:"slide",timeout:3e3}):0===Object.keys(c.area).length||"Select Area"===c.area?ue.a.error("Please Select Customer Area!",{position:"top-right",effect:"slide",timeout:3e3}):void 0===c.email||""===c.email?ue.a.error("Please Enter Customer Email Carefully!",{position:"top-right",effect:"slide",timeout:3e3}):!1===/^[a-zA-Z0-9\-_]+(\.[a-zA-Z0-9\-_]+)*@[a-z0-9]+(\-[a-z0-9]+)*(\.[a-z0-9]+(\-[a-z0-9]+)*)*\.[a-z]{2,4}$/.test(c.email)?ue.a.error("Please  Enter Customer Email Carefully!",{position:"top-right",effect:"slide",timeout:3e3}):void 0===c.gender||"Gender"===c.gender?ue.a.error("Please Select Customer Gender!",{position:"top-right",effect:"slide",timeout:3e3}):void 0===c.zip||""===c.zip?ue.a.error("Please Enter Customer  Zip Code!",{position:"top-right",effect:"slide",timeout:3e3}):void 0===c.province||"Province"===c.province?ue.a.error("Please select Customer Province!",{position:"top-right",effect:"slide",timeout:3e3}):void 0===c.address||""===c.address?ue.a.error("Please Enter  Customer  Address!",{position:"top-right",effect:"slide",timeout:3e3}):void 0===c.city||""===c.city?ue.a.error("Please Enter Customer City Name!",{position:"top-right",effect:"slide",timeout:3e3}):void 0===c.comments||""===c.comments?ue.a.error("Please Enter  Comments!",{position:"top-right",effect:"slide",timeout:3e3}):void 0===c.phone||""===c.phone?ue.a.error("Please Enter Customer  Phone Number!",{position:"top-right",effect:"slide",timeout:3e3}):0===Object.keys(c.company).length?ue.a.error("Please  select  Company! ",{position:"top-right",effect:"slide",timeout:3e3}):(ue.a.success("Succefully ! You Have Add Customer!",{position:"top-right",effect:"slide",timeout:3e3}),console.log("Add customer",c),e.createCustomer(c))}},l.a.createElement("i",{class:"material-icons"}),"Save"),l.a.createElement("button",{className:"waves-effect waves-light btn-small cancel",onClick:function(){e.showAddCustomer(!1)}},l.a.createElement("i",{class:"material-icons"}),"Cancel"))))})),ia=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).state={openCustomerForm:!1},a.state={activePage:1,itemPerPage:10},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"handlePageChange",value:function(e){console.log("active page is ".concat(e)),this.setState({activePage:e})}},{key:"render",value:function(){var e=this,t=this.state.activePage*this.state.itemPerPage,a=t-this.state.itemPerPage,n=this.props.data.customers.slice(a,t);return l.a.createElement("section",{className:"app-section"},this.state.openCustomerForm&&l.a.createElement(oa,{customer:this.state.targetCustomer,showAddCustomer:function(t){e.setState({openCustomerForm:!1})}}),l.a.createElement("div",{className:"label-head"},l.a.createElement("img",{src:"/images/label-head.png"}),l.a.createElement("h4",null,"Customers")),l.a.createElement("div",{className:"row"},l.a.createElement("div",{class:"input-field col s3"},l.a.createElement("input",{placeholder:"Placeholder",id:"first_name",type:"text",class:"validate"}),l.a.createElement("label",{className:"adjusted-label",for:"first_name"},"Search Customers"))),l.a.createElement("div",null,l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"SR."),l.a.createElement("th",null,"CODE"),l.a.createElement("th",null,"AREA"),l.a.createElement("th",null,"FULL NAME"),l.a.createElement("th",null,"COMPANY"),l.a.createElement("th",{className:"wd-200"},"PHONE"),l.a.createElement("th",{className:"wd-200"},"ADDRESS"),l.a.createElement("th",null,this.props.showAddBtn&&l.a.createElement("img",{onClick:function(){e.setState({targetCustomer:{company:{},area:{}},openCustomerForm:!0})},className:"icon add-item",src:"/images/add-icon.png"})))),l.a.createElement("tbody",null,n.map((function(t,a){return l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("b",null,a+1)),l.a.createElement("td",null,t.code),l.a.createElement("td",null,t.area.name),l.a.createElement("td",null,t.firstName+" "+(t.lastName||"")),l.a.createElement("td",null,t.company.name),l.a.createElement("td",{className:"wd-200"},t.phone),l.a.createElement("td",{className:"wd-200"},t.address),l.a.createElement("td",null,l.a.createElement("img",{title:"Edit",onClick:function(){e.setState({targetCustomer:t,openCustomerForm:!0})},className:"icon pointer",src:"/images/table-icons/edit-icon.png"}),l.a.createElement(Z.a,{to:"/accountsdetails/"+t.id},l.a.createElement("img",{className:"icon",src:"/images/details-icon.png"}))))})))),l.a.createElement("center",null,l.a.createElement(fe.a,{activePage:this.state.activePage,itemsCountPerPage:n.length,totalItemsCount:this.props.data.customers.length,pageRangeDisplayed:n.length,onChange:function(t){return e.handlePageChange(t)}}))))}}]),t}(l.a.Component),da=Object(p.b)((function(e){return{data:e.customerReducer}}))(ia);function ua(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ma(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ua(a,!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ua(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var pa=Object(p.b)((function(e){return{data:ma({},e.userReducer,{},e.areaReducers)}}),(function(e){return{createUser:function(t){e(Rt(t))}}}))((function(e){var t=Object(n.useState)(ma({},e.user)),a=Object(se.a)(t,2),r=a[0],c=a[1],s=l.a.createRef(),o=l.a.createRef();function i(e){r[e.target.id]=e.target.value,c(r)}var d=[];function u(e){var t={};return e.forEach((function(e){t[e.name]=null})),t}return Object(n.useEffect)((function(){var t=e.data.areas;window.$(s.current).chips({data:e.user.areas.map((function(e){return{tag:e.name}})),onChipAdd:function(e){d=this.chipsData.map((function(e){return t.find((function(t){return e.tag==t.name}))._id})),window.$(o.current).append(e.find(".chip"))},onChipDelete:function(e){d=this.chipsData.map((function(e){return t.find((function(t){return e.tag==t.name}))._id}))},autocompleteOptions:{chipsData:e.user.areas,data:u(e.data.areas),limit:1/0,minLength:1}}),window.$(".input-field").find(".chip").each((function(e,t){window.$(o.current).append(t)}))})),l.a.createElement("div",{className:"add-user"},l.a.createElement("div",{class:"modal-overlay",style:{"z-index":1002,display:"block",opacity:.5}}),l.a.createElement("div",{id:"modal1",class:"modal",style:{display:"block"}},l.a.createElement("div",{class:"modal-content"},l.a.createElement("div",{className:"sub-head"},"Add User"),l.a.createElement("div",{className:"modal-body"},l.a.createElement(ue.a,{stack:{limit:1}}),l.a.createElement("input",{className:"readonly-code",id:"code",readOnly:!0,value:r._id?r.code:e.data.userCode,type:"text"}),l.a.createElement("div",{className:"row"},l.a.createElement("div",{class:"input-field col s6"},l.a.createElement("input",{value:r.fullName,onChange:i,placeholder:"Full Name",id:"fullName",type:"text",class:"validate"})),l.a.createElement("div",{class:"input-field col s6"},l.a.createElement("div",{class:"chips",ref:s},l.a.createElement("input",{placeholder:"Add Area",class:"custom-class"})),l.a.createElement("div",{className:"chipsContainer",ref:o}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{class:"input-field col s6"},l.a.createElement("input",{value:r.email,onChange:i,placeholder:"Email",id:"email",type:"email",class:"validate"}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{class:"input-field col s6"},l.a.createElement("input",{value:r.phone,onChange:i,placeholder:"Phone",id:"phone",type:"number",class:"validate"}))),l.a.createElement("div",{className:"row"}))),l.a.createElement("div",{class:"modal-footer"},l.a.createElement("button",{className:"waves-effect waves-light btn-small save",onClick:function(t){t.preventDefault(),r.areas=d,r.code=r._id?r.code:e.data.userCode,void 0===r.fullName||""===r.fullName?ue.a.error("Please Enter User Name !",{position:"top-right",effect:"slide",timeout:3e3}):0===r.areas.length?ue.a.error("Please  Add  User Area!",{position:"top-right",effect:"slide",timeout:3e3}):void 0===r.email||""===r.email?ue.a.error("Please Enter  User Email Carefully",{position:"top-right",effect:"slide",timeout:3e3}):!1===/^[a-zA-Z0-9\-_]+(\.[a-zA-Z0-9\-_]+)*@[a-z0-9]+(\-[a-z0-9]+)*(\.[a-z0-9]+(\-[a-z0-9]+)*)*\.[a-z]{2,4}$/.test(r.email)?ue.a.error("Please Enter  User Email Carefully  ",{position:"top-right",effect:"slide",timeout:3e3}):void 0===r.phone||""===r.phone?ue.a.error("Please Enter  User Phone Number",{position:"top-right",effect:"slide",timeout:3e3}):(console.log("user",r),ue.a.success("Succefully ! User Created ",{position:"top-right",effect:"slide",timeout:3e3}),e.createUser(r))}},l.a.createElement("i",{class:"material-icons"}),"Save"),l.a.createElement("button",{className:"waves-effect waves-light btn-small cancel",onClick:function(){e.showAddUser(!1)}},l.a.createElement("i",{class:"material-icons"}),"Cancel"))))})),Ea=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).state={openUserForm:!1},a.render=function(){var e=a.state.activePage*a.state.itemPerPage,t=e-a.state.itemPerPage,n=a.props.data.users.slice(t,e);return-1==a.props.data.users.indexOf(a.state.targetUser)&&(a.state.targetUser=a.props.data.users.find((function(e){return e._id==a.state.targetUser._id}))||{areas:[]}),l.a.createElement("section",{className:"app-section"},a.state.openUserForm?l.a.createElement(pa,{user:a.state.targetUser,showAddUser:function(){a.setState({openUserForm:!1})}}):null,l.a.createElement("div",{className:"label-head"},l.a.createElement("img",{src:"/images/label-head.png"}),l.a.createElement("h4",null,"Users")),l.a.createElement("div",{className:"row"},l.a.createElement("div",{class:"input-field col s3"},l.a.createElement("input",{placeholder:"Placeholder",id:"first_name",type:"text",class:"validate"}),l.a.createElement("label",{className:"adjusted-label",for:"first_name"},"Search Users"))),l.a.createElement("div",null,l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"SR."),l.a.createElement("th",null,"EMPLOYEE CODE"),l.a.createElement("th",{className:"wd-200"},"FULL NAME"),l.a.createElement("th",{className:"wd-200"},"EMAIL"),l.a.createElement("th",null,"CONTACT"),l.a.createElement("th",null,"ADDRESS"),l.a.createElement("th",null,"DATE"),l.a.createElement("th",null,l.a.createElement("img",{onClick:function(){a.setState({targetUser:{areas:[]},openUserForm:!0})},className:"icon add-item",src:"/images/add-icon.png"})))),l.a.createElement("tbody",null,n.map((function(e,t){return l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("b",null,t+1)),l.a.createElement("td",null,e.code),l.a.createElement("td",{className:"wd-200"},e.fullName),l.a.createElement("td",null,e.email),l.a.createElement("td",null,e.phone),l.a.createElement("td",null,e.areas.map((function(e){return e.name})).join(",")),l.a.createElement("td",null,e.date),l.a.createElement("td",null,l.a.createElement("img",{title:"Edit",onClick:function(){a.setState({targetUser:e,openUserForm:!0})},className:"icon pointer",src:"/images/table-icons/edit-icon.png"})))})))),l.a.createElement("center",null,l.a.createElement(fe.a,{activePage:a.state.activePage,itemsCountPerPage:n.length,totalItemsCount:a.props.data.users.length,pageRangeDisplayed:n.length,onChange:function(e){return a.handlePageChange(e)}}))))},a.state={targetUser:{areas:[]},activePage:1,itemPerPage:10},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"handlePageChange",value:function(e){console.log("active page is ".concat(e)),this.setState({activePage:e})}}]),t}(l.a.Component),ha=Object(p.b)((function(e){return{data:e.userReducer}}))(Ea),fa=(a(295),function(e){return function(t){fetch("/api/purchases/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){e._id?(t({type:"PURCHASE_CREATED",payload:e}),C.b.success(oe.sales.saved)):C.b.error(oe.sales.error.cannotCreate)}))}});function ga(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ya(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ga(a,!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ga(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var va=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(o.a)(this,Object(i.a)(t).call(this))).onProductUpdate=function(t,a,n){t.product=n,t.uPrice=n.customerPrice,t.shopkeeperPrice=n.shopkeeperPrice,e.setState(e.state)},e.putNewOrder=function(){return{product:Object(u.a)({customerPrice:0,shopkeeperPrice:0,productQty:0,cartonSize:0},"productQty",0),crtn:0,units:0,fUnit:0,total:0,discountPerc:0,unitDisc:0,discountedAmt:0,net:0,deleted:!1,inProcess:!0}},e.updateState=function(t){e.state[t.target.id]=t.target.value,e.setState(e.state)},e.updateBill=function(t,a,n){t[a]=n,e.setState(e.state)},e.deleteItem=function(){e.state.selectedBill&&(e.state.selectedBill.deleted=!0,e.state.deleteDialog=!1,e.setState(e.state))},e.restoreItem=function(){e.state.selectedBill&&(e.state.selectedBill.deleted=!1,e.state.deleteDialog=!1,e.setState(e.state))},e.onPaymentAdded=function(t){t&&(e.state.payments.push(t),e.setState(e.state))},e.componentDidMount=function(){window.$(e.refs.deliveryDatePicker).datepicker({})},e.savePurchase=function(){e.state.billNo=e.props.data.purchaseCode,e.props.savePurchase(e.state)},e.state={deliveryDate:new Date,deleteDialog:!1,total:0,discount:0,payments:[],area:{},bills:[e.putNewOrder()]},e.defaultAction=e.deleteItem,e}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e,t=this,a=this.state.bills.filter((function(e){return!e.deleted})),n=0,r=0,c=0;a.length?a.forEach((function(e){e.total=Math.round(e.crtn*(e.product.cartonSize||1)*(e.product.shopkeeperPrice||0)+(e.units||0)*(e.product.shopkeeperPrice||0)),e.discountedAmt=Math.round(e.total*(e.discountPerc/100)),n+=+e.total,r+=+e.discountedAmt,c+=+e.unitDisc})):(n=+a[0].total,r=+a[0].discountedAmt,c=+a[0].unitDisc),this.state.total=n,this.state.discount=r+c;var s=0;return this.state.payments.forEach((function(e){s+=+e.amount})),l.a.createElement("section",{className:"app-section new-sale"},l.a.createElement(Nt,{onCancel:function(){t.setState({addingPayment:!1})},payments:this.state.payments,customer:"Store",visible:this.state.addingPayment,onPaymentAdded:this.onPaymentAdded}),l.a.createElement(Pt,{onYes:function(){t.defaultAction()},onCancel:function(){t.setState({deleteDialog:!1})},title:this.state.title,description:this.state.description,visible:this.state.deleteDialog}),l.a.createElement("div",{className:"label-head"},l.a.createElement("img",{src:"/images/label-head.png"}),l.a.createElement("h4",null,"New Purchases"),l.a.createElement("h5",null,"BILL#: ",l.a.createElement("span",null,this.props.data.purchaseCode)),l.a.createElement("div",{className:"billSummary"},l.a.createElement("div",{class:"row"},l.a.createElement("span",{className:"bill-summary col s6"},"Total Billed Amount")," ",l.a.createElement("span",{className:"total-sum col s4"},Math.round(n))," "),l.a.createElement("div",{class:"row"},l.a.createElement("span",{className:"bill-summary col s6"},"Total Item Discount"),l.a.createElement("span",{className:"total-sum col s4"},Math.round(r))," "),l.a.createElement("div",{class:"row"},l.a.createElement("span",{className:"bill-summary col s6"},"Total Unit Amount"),l.a.createElement("span",{className:"total-sum col s4"},Math.round(c))," "),l.a.createElement("div",{class:"row"},l.a.createElement("span",{className:"bill-summary col s6"},"Bill Discount"),l.a.createElement("span",{className:"total-sum col s4"},Math.round(r+c))," "),l.a.createElement("div",{class:"row gray-back"},l.a.createElement("span",{className:"bill-summary col s6"},"Total Payable"),l.a.createElement("span",{className:"total-sum col s4"},Math.round(n))," "),l.a.createElement("div",{class:"row gray-back disabled"},l.a.createElement("span",{className:"bill-summary col s6"},"Paid"),l.a.createElement("span",{className:"total-sum col s4"},Math.round(s))," ")),l.a.createElement("div",{className:"text-right right-panel"},l.a.createElement("img",{onClick:function(){t.setState({addingPayment:!0})},title:"Add Payment",className:"icon panel-icon pointer",src:"/images/panel-icons/payment.png"}),l.a.createElement("img",{onClick:function(){t.savePurchase()},title:"Save And Continue",className:"icon panel-icon pointer",src:"/images/panel-icons/add-icon.png"}),l.a.createElement("img",{title:"Save",className:"icon panel-icon pointer",src:"/images/panel-icons/save.png"}),l.a.createElement("img",{title:"Print",className:"icon panel-icon pointer",src:"/images/panel-icons/print.png"}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{class:"input-field col s3"},l.a.createElement(Ke,{property:"firstName",onChange:function(e,a){a&&t.updateState({target:{id:"supplier",value:a._id}})},data:this.props.data.suppliers,placeholder:"Select Supplier"})),l.a.createElement("div",{class:"input-field col s3"},l.a.createElement("input",(e={onChange:this.updateState,placeholder:"Delievry Date",id:"deliveryDate",type:"text"},Object(u.a)(e,"id","deliveryDate"),Object(u.a)(e,"ref","deliveryDatePicker"),e)))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{class:"input-field col s3"},l.a.createElement("textarea",{onChange:this.updateState,placeholder:"Notes",id:"notes",class:"white materialize-textarea"}))),l.a.createElement("div",null,l.a.createElement("table",{className:"sales-table"},l.a.createElement("thead",{className:"sales-thead"},l.a.createElement("tr",null,l.a.createElement("th",{className:"auto-width"},"SR."),l.a.createElement("th",{className:"wd-50"},"STOCK"),l.a.createElement("th",{style:{width:"255px"}},"PRODUCT"),l.a.createElement("th",{className:"wd-70"},"CRTN"),l.a.createElement("th",{className:"wd-70"},"UNITS"),l.a.createElement("th",{className:"wd-70"},"F.UNIT"),l.a.createElement("th",{className:"wd-70"},"Cost"),l.a.createElement("th",{className:"wd-70"},"SHOPKEEPER PRICE"),l.a.createElement("th",{className:"wd-70"},"TOTAL"),l.a.createElement("th",null,"% DISCOUNT"),l.a.createElement("th",null,"Rs."),l.a.createElement("th",null,"Unit Disc."),l.a.createElement("th",null,"Net"))),l.a.createElement("tbody",{className:"auto-td sales-tbody"},this.state.bills.map((function(e,a){var n=(e.product.productQty/e.product.cartonSize).toString().split(".")[0];return n="NaN"!=n.toString()?n+":"+(e.product.productQty-e.product.cartonSize*n):":",l.a.createElement("tr",{className:e.deleted?"deleted-row":""},l.a.createElement("td",null,l.a.createElement("b",null,a+1)),l.a.createElement("td",{className:"wd-50 f-n"+(":"==n.toString()?" unvisible":"")}," ",l.a.createElement("span",{className:"stock-indicator"},n)),l.a.createElement("td",null,l.a.createElement(Ke,{property:"name",onChange:function(a,n){n&&t.onProductUpdate(e,a,n)},data:t.props.data.products.filter((function(a){return 0==t.state.bills.filter((function(t){return e!=t&&t.product.id==a.id})).length})),placeholder:"Select Product"})),l.a.createElement("td",null,l.a.createElement("input",{placeholder:"crtn",onChange:function(a){var n=+(e.product.productQty/e.product.cartonSize).toString().split(".")[0];+a.target.value>n?(e.unitDisc=0,t.updateBill(e,a.target.id,n)):t.updateBill(e,a.target.id,a.target.value)},className:"input-60",type:"number",id:"crtn",value:e.crtn})),l.a.createElement("td",null,l.a.createElement("input",{placeholder:"Units",onChange:function(a){(e.product.productQty/e.product.cartonSize).toString().split(".")[0],e.product.productQty;var n=e.crtn*e.product.cartonSize+ +a.target.value;if(n>e.product.productQty)if(e.product.productQty-n>0)t.updateBill(e,a.target.id,a.target.value);else{var l=a.target.value-(n-e.product.productQty);e.unitDisc=0,t.updateBill(e,a.target.id,l)}else t.updateBill(e,a.target.id,a.target.value)},className:"input-60",type:"number",id:"units",value:e.units})),l.a.createElement("td",null,l.a.createElement("input",{placeholder:"Funits",className:"input-60",type:"number",value:e.fUnit})),l.a.createElement("td",null,l.a.createElement("input",{onInput:function(a){t.updateBill(e,a.target.id,a.target.value)},placeholder:"0",id:"cost",className:"input-60",type:"number",value:e.cost})),l.a.createElement("td",null,l.a.createElement("input",{className:"input-60",disabled:!0,type:"text",readonly:!0,value:e.product.shopkeeperPrice})),l.a.createElement("td",null,l.a.createElement("input",{className:"input-80",disabled:!0,type:"text",readonly:!0,value:function(e){return e.total}(e)})),l.a.createElement("td",null,l.a.createElement("input",{onInput:function(a){t.updateBill(e,a.target.id,a.target.value)},className:"input-60",id:"discountPerc",type:"number",value:e.discountPerc})),l.a.createElement("td",null,l.a.createElement("input",{disabled:!0,className:"input-80",type:"number",value:function(e){return e.discountedAmt}(e)})),l.a.createElement("td",null,l.a.createElement("input",{id:"unitDisc",onInput:function(a){t.updateBill(e,a.target.id,a.target.value)},className:"input-80",onKeyDown:function(a){if("Enter"==a.key){if(!e.product._id)return void C.b.error("PLEASE SELECT A PRODUCT");t.state.bills[t.state.bills.length-1].inProcess=!1,t.state.bills.push(t.putNewOrder()),t.setState(t.state)}},type:"number",value:e.unitDisc})),l.a.createElement("td",null,l.a.createElement("input",{className:"input-80",type:"number",disabled:!0,value:e.total-e.discountedAmt-e.unitDisc})),l.a.createElement("td",null,e.inProcess?l.a.createElement("i",{class:"material-icons dp48 green pointer",onClick:function(){t.state.bills[t.state.bills.length-1]&&(t.state.bills[t.state.bills.length-1]=t.putNewOrder()),t.setState(t.state.bills)}},"done_all"):l.a.createElement("i",{class:"material-icons dp48 pink pointer",onClick:function(){e.deleted?(t.defaultAction=t.restoreItem,t.setState({description:"Are you sure, you want to restore this item?",title:"Restore Item",selectedBill:e,deleteDialog:!0})):(t.defaultAction=t.deleteItem,t.setState({description:"Are you sure, you want to delete this item?",title:"Delete Current Item",selectedBill:e,deleteDialog:!0}))}}," ",e.deleted?"refresh":"delete_forever")))}))))))}}]),t}(l.a.Component),ba=Object(p.b)((function(e){return{data:ya({},e.purchaseReducer,{},e.supplierReducer,{},e.customerReducer,{},e.productReducers)}}),(function(e){return{savePurchase:function(t){e(fa(t))}}}))(va),Oa=Object(p.b)((function(e){return{data:e.purchaseReducer}}))((function(e){var t=Object(n.useState)(!1),a=Object(se.a)(t,2);a[0],a[1];return l.a.createElement("section",{className:"app-section"},l.a.createElement("div",{className:"label-head"},l.a.createElement("img",{src:"/images/label-head.png"}),l.a.createElement("h4",null,"Purchase Orders")),l.a.createElement("div",{className:"row"},l.a.createElement("div",{class:"input-field col s3"},l.a.createElement("input",{placeholder:"Placeholder",id:"first_name",type:"text",class:"validate"}),l.a.createElement("label",{className:"adjusted-label",for:"first_name"},"Search Purchases"))),l.a.createElement("div",null,l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"SR."),l.a.createElement("th",null,"BIL"),l.a.createElement("th",{className:"wd-200"},"Supplier"),l.a.createElement("th",null,"TOTAL"),l.a.createElement("th",null,"DISCOUNT"),l.a.createElement("th",null,"NET BILL"),l.a.createElement("th",null,"SALES DATE"),l.a.createElement("th",null,"DELIVERY"),l.a.createElement("th",null,"TIME"),l.a.createElement("th",null,l.a.createElement("img",{onClick:function(){e.history.push("/newpurchase")},className:"icon add-item",src:"/images/add-icon.png"})))),l.a.createElement("tbody",null,e.data.purchases.map((function(e,t){return console.log("pur",e),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("b",null,t+1)),l.a.createElement("td",null,e.billNo),l.a.createElement("td",{className:"wd-200"},e.supplier.firstName+" "+e.supplier.lastName),l.a.createElement("td",null,e.total),l.a.createElement("td",null,e.discount),l.a.createElement("td",null,e.total-e.discount),l.a.createElement("td",null,new Date(e.salesDate).toDateString()),l.a.createElement("td",null,new Date(e.deliveryDate).toDateString()),l.a.createElement("td",null,e.time),l.a.createElement("td",null,l.a.createElement(Z.a,{to:"/details/"+e.id},l.a.createElement("img",{className:"icon",src:"/images/details-icon.png"}))))}))))))})),Pa=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h1",null,"This is connect"))}}]),t}(l.a.Component),Na=Object(p.b)((function(e){return{}}))(Pa);function Sa(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var Ca=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=JSON.parse(localStorage.getItem("persist:root"));return l.a.createElement(l.a.Fragment,null,0!=Object.keys(JSON.parse(e.loginReducers).loggedInUser).length?l.a.createElement(X.a,{to:"/dashboard"}):l.a.createElement(X.a,{to:"/login"}),this.props.loggedInUser?l.a.createElement(re,null):l.a.createElement(X.a,{to:"/login"}),l.a.createElement(X.b,{path:"/dashboard",component:ce}),l.a.createElement(X.b,{path:"/login",component:W}),l.a.createElement(X.b,{path:"/accounts/suppliers",component:ye}),l.a.createElement(X.b,{path:"/accounts/customersledgers",component:ra}),l.a.createElement(X.b,{path:"/accountsdetails/:id",component:ea}),l.a.createElement(X.b,{path:"/attendance",component:ut}),l.a.createElement(X.b,{path:"/sales",component:Ot}),l.a.createElement(X.b,{path:"/newsale",component:wt}),l.a.createElement(X.b,{path:"/recovery",component:Na}),l.a.createElement(X.b,{path:"/newpurchase",component:ba}),l.a.createElement(X.b,{path:"/purchases",component:Oa}),l.a.createElement(X.b,{path:"/expenses",component:Zt}),l.a.createElement(X.b,{path:"/reporting",component:W}),l.a.createElement(X.b,{path:"/salary",component:Gt}),l.a.createElement(X.b,{path:"/settings/store",component:bt}),l.a.createElement(X.b,{path:"/settings",component:W}),l.a.createElement(X.b,{path:"/settings/companies",component:Re}),l.a.createElement(X.b,{path:"/settings/categories",component:xe}),l.a.createElement(X.b,{path:"/settings/customers",render:function(){return l.a.createElement(da,{showAddBtn:!0})}}),l.a.createElement(X.b,{path:"/settings/products",render:function(){return l.a.createElement(Ce,null)}}),l.a.createElement(X.b,{path:"/settings/users",component:ha}),l.a.createElement(X.b,{path:"/settings/areas",component:He}),l.a.createElement(X.b,{path:"/settings/suppliers",render:function(){return l.a.createElement(ye,{showAddBtn:!0})}}),this.props.menuReducers.loadedMenu.length?l.a.createElement("div",{className:"menu-container flex"},this.props.menuReducers.loadedMenu.map((function(e){return l.a.createElement(Z.a,{to:e.link},l.a.createElement("div",{className:"menuitem"},l.a.createElement("img",{src:"/"+e.icon}),l.a.createElement("div",{className:"label"},e.name)))}))):null)}}]),t}(l.a.Component),Aa=Object(p.b)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Sa(a,!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Sa(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({menuReducers:e.dropdownReducers},e.loginReducers)}))(Object(X.f)(Ca)),Da=(a(296),a(297),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).render=function(){return l.a.createElement("div",null,l.a.createElement(p.a,{store:Q},l.a.createElement(X.c,{history:q},l.a.createElement(Aa,null))),l.a.createElement(C.a,null))},a}return Object(d.a)(t,e),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(Da,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[209,1,2]]]);
//# sourceMappingURL=main.ea88ba6d.chunk.js.map